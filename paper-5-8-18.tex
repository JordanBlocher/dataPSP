%\documentclass[journal,comsoc]{IEEEtran}
\documentclass[sigconf, anonymous]{acmart}
%\documentclass[12pt]{article}
 
%\usepackage[text={6in,8.1in},centering]{geometry}

\usepackage{enumerate}
\usepackage{amsmath,amsthm,amssymb}
\usepackage{mathrsfs} % to use mathscr fonts

\usepackage{multicol}
\usepackage{url}

\usepackage{epstopdf}
\usepackage{caption,subcaption}
\usepackage{pstricks}
\usepackage{pst-solides3d}
\usepackage{pstricks-add}
\usepackage{graphicx}
\usepackage{pst-tree}
\usepackage{pst-poly}
\usepackage{calc,ifthen}
\usepackage{float}\usepackage{multicol}
\usepackage{multirow}
\usepackage{array}
\usepackage{longtable}
\usepackage{fancyhdr}
\usepackage{algorithmicx}
\usepackage[noend]{algpseudocode}
\usepackage{changepage}
\usepackage{color}
\usepackage{listings}
\usepackage{fancyvrb}
\usepackage{verbatim,moreverb}
\usepackage{courier}
\usepackage{algorithm}

 
\newcommand{\vs}{\varsigma}
\newcommand{\mcL}{\mathcal{L}}
\newcommand{\mcI}{\mathcal{I}}
\newcommand{\g}{\sigma}
\newcommand{\s}{\nu}
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}
 
\iffalse

\newtheorem{proposition}{Proposition}[section]
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}{Lemma}[section]
\newtheorem{corollary}{Corollary}[section]
\newtheorem{sublemma}{Lemma}[lemma]
\theoremstyle{definition}
\newtheorem{definition}{Definition}[section]

\headsep25pt\headheight20pt
\setcounter{secnumdepth}{4}
\pagestyle{fancyplain}
\rhead{\fancyplain{}{\small\bfseries Blocher, Jordan}}
\cfoot{\ \hfill\tiny\sl Draft printed on \today}
\setlength{\extrarowheight}{2.5pt} % defines the extra space in tables

\fi
 \iffalse
%---------------ACM CCS---------------------%
\fancyhf{} % Remove fancy page headers 
\fancyhead[C]{Jordan Blocher}% to ACM CCS 2017} % TODO: replace 9999 with your paper number
\fancyfoot[C]{\thepage}

\setcopyright{none} % No copyright notice required for submissions
\acmConference[?]%Anonymous Submission to ACM CCS 2017]{ACM Conference on Computer and Communications Security}{Due 19 May 2017}{Dallas, Texas}
\acmYear{2017}

\settopmatter{printacmref=false, printccs=true, printfolios=true} % We want page numbers on submissions
%-------------------------------------------%
\fi

\begin{document}
%\begin{multicols}{2}
\title{Title?} 

\begin{abstract}

%Verizon and At\&T, two major Internet service providers (ISPs), are offering
%shared data plans, where multiple users may purchase and share a single pool of
%data. 
We propose a distributed, privacy-preserving auction-based approach to
allocation in a secondary market for wireless data exchange.
The secondary market is modeled as a fully connected, pure ``point of sale"
market, with inital public platform provided by its parent wireless internet service
provider (WISP). 
The progressive second price (PSP) auction rules provide our underlying auction
structure, allowing for a single degree of freedom, the reserve
price. We suggest that data exchange markets allow for greater flexibility in
mechanism design.
We propose new, natural degrees of freedom, and derive modifiers
to represent the deformation of the strategy space. 

Wireless users are modeled as a fixed type with dynamic incentives. Using a game
theoretic analyis, we derive strategy profiles for wireless users
based on their typed response to market dynamics, resulting in self-contained, self-balancing pricing system. 
We examine mutations in the strategy space resulting from the new modifiers, and
prove that the desired PSP properties hold. 
Convergence is determined by set theory; we prove that the symmetry of our
strategy space provides built-in conditions for convergence and stablility, finally arriving at a network Nash equlibirium.

Trust and privacy issues in secondary markets have yet to be addressed.
As rational users will not publicly reveal valuations, out users form coalitions to establish trust with local auctioneers.
In a centrally moderated secondary market, an unregulated,
rational ISP will prevent its secondary market from acting as a competitor.
Competition is desired as it provides incentive for the ISP to protect
and care for its end users.
The distributed nature of PSP extends individual privacy to the secondary market,
allowing for it to compete with its parent ISP. 
\end{abstract}

\iffalse
% TODO: replace this section with code generated by the tool at https://dl.acm.org/ccs.cfm
\begin{CCSXML}
<ccs2012>
<concept>
<concept_id>10002978.10003029.10011703</concept_id>
<concept_desc>Security and privacy~Usability in security and privacy</concept_desc>
<concept_significance>500</concept_significance>
</concept>
</ccs2012>
\end{CCSXML}

\ccsdesc{Security and privacy~Use https://dl.acm.org/ccs.cfm to generate actual concepts section for your paper}

\keywords{template; formatting; pickling} % TODO: replace with your keywords
\fi
%\maketitle

\section{Introduction}

An evolving consumer culture is has led wireless internet service providers
(ISPs) to rethink their service plans. Mobile data usage is quickly outpacing voice and SMS in
wireless network, and the trend is only expected to increase with
multi-device ownership. Declining revenue has caused ISPs search for sources
of new revenue in the changing market. Thus the introduction of the shared data plan \cite{att}. Using an account
service, users are able to keep track of data usage in real time across all
their devices. 
The shared data service plan requires that users hold an \emph{a priori}
knowledge of demand.
We address several topics: data as a product in the real-monetary market, and
data a network resource in a wireless topology.

Many new services are found exclusively on mobile devices; older softwares
are moving from (wired) grid-based to node-based communication. Software-defined
networking (SDN) addresses the new environment of wireless communication
devices, allowing for a programmable network architecture. 
The account services that manage wireless shared data plans decentralize
network management, and mobility becomes a factor in SDN design.
Individual mobile devices provide flexibility, and may make decisions regarding
local network infrastructure. There is a clear need for algorithms designed for
optimization in this space. In many cases, the direct communication between
mobile devices allows for a simple mutation of classic optimization models.
Auctions are key in SDN for the fair allocation of resources. For this work, we
focus on mobile data, an infinitely divisible and distributable quantity.
Mobile data represents online data accessed using the WISP network, and as
representation of future network usage, we are able remove restrictions imposed
by the physical layer. 

We focus on Vickery-Clark-Groves (VCG) type 
auction mechanisms that are (1) easily distributed, and (2) allocate an infinitely
divisible resource.
In \cite{lazar}, Lazar and Semret introduce the Distributed Progressive Second Price (PSP)
Mechanisms for bandwidth allocation. An auction mechanism is defined
as distributed when the allocations at any element depend only on
local state, no single entity holds a global market knowledge. We consider the
multi-auction, where there are many auctioneers, each holding thier own local auction.

The model for data exchange was recently adopted by China Mobile Hong Kong
(CMHK), who released a platform, 2cm (2nd exchange market) creating a secondary
market where users can buy and sell data from each other.
CMHK owns and moderates 2cm, centrally computing allocations of mobile data
based on bids submitted to the platform.
Flexible data-sharing
plans are similar to the CMHK market, where a limited number of devices may
share a single data plan. A shared-data plan, however limited, offers better economy
by creating primary users with a service package with cellular, and a lot of data, and
limited number of secondary users that are using only data \cite{att}.
The secondary market allows for primary and secondary users to freely correspond,
without the restriction of a static primary-secondary user association.

Users on the shared data plan given by \cite{att} do not ``buy" or ``sell"
data, however, we may easily augment the model to include a price function,
which may be virtual, creating a secondary market.
In order to demonstrate potential of expanding to other $\emph{a priori}$ use
models, we give a simple example. Consider Alice and Bob, who met through an online service connecting neighborly
individuals closest to each other, in fact, close enough to be within wireless
range. Alice is going on vacation, and offers to transfer her wireless signal to
Bob. As they have the same provider, Bob agrees, and is able to use Alice's
bandwidth, which he finds is useful during peak network
hours. He pays a discounted rate. We note that the additional bandwith may be
used by another device, or even a 5G-capable mobile device.

The secondary market provides a unique opportunity for social equilibrium, as it
allows users to share data without sharing the same data plan, a restriction in
most ISPs, such as \cite{att}. We reason that a secondary market effectively creates a competitive secondary market, and contributes to the
dynamics of a free-market economy. Market competition is a desirable quality in
free markets, and is encouraged, particularly in wireless and data services. In
fact, California Legistature has recently passed laws promoting
competition and enforcing fair practice of ISPs \cite{cabill}.
Laws such as \cite{fedbill} exist to
regulate ISPs as they have historically come close to monopolizing regional
markets, leading to consumer abuse.
The global view of privacy has not been addressed, as the data exchange model is still
in its experimental phase.
Within the secondary market, bid privacy is a concern for two reasons: (1) Buyers are reluctant to
reveal their true valuations, as sellers may use these values to discriminate
against specific buyers. (2) Buyers doubt an auction's outcome, as they do
not pay what they bid, e.g. the auctioneer might create a fake
second highest bid slightly below the highest bid in order to increase his revenue
In general, the buyer does not trust the auctioneer, and the economy does not
trust the ISP.
  
We therefore determine that our mechanism must be (3) globally and locally privacy-preserving. 

In a PSP mechanism, bids consist of (1) a quantity and
(2) a unit-price. Buyers submit bids until an
($\epsilon$-Nash) equilibrium is reached. 
Our mechanism
takes advantage of the opportunity for adaptation provided by the
secondary market.

The secondary market applies the PSP auction rules over a wireless network. The
wireless users' data incentives create a pure ``point-of-sale" market. We prove
that there exists a primary $\epsilon$-Nash market equilibrium that is
the dominant strategy in the multi-auction system.


The market
topology and the user strategy are organically determined by the impact of user
behavior on market dynamics, and so determines a minimally optimal objective
representing user valuation globally, and so fufills an additional property of
economy over time and space. To the best of our knowledge, this is the first
work to provide a comprehensive derivation of a truthful mechanism that is self-contained within a dynamic market
topology.
To the best of our knowledge, this is the first work to provide a comprehensive
derivation of a truthful mechanism that is self-contained within a dynamic market
topology. 

In classic mechanism design, with multiple user types, there is no single
way to design the transformation from the direct revelation mechanism to its
corresponding computational design. We apply a modifier to the PSP mechanism in
order to mutate the strategy space, following dynamic user
correspendence. As in \cite{lazar}, we take the direct
approach by guessing the right modifier, and context, such that we have the
desired result by composition with the PSP rules. 
As in \cite{lazar}, the incentive for a
user to truthfully reveal its type is built into the user strategies. Then,
local equilibria follow as a result of incentive
compatibility characterizing best strategy moves.
We claim that our formulation holds the desired PSP qualities,
converging at a rate of $\mathcal{O}(\sum_{i\in\mcI}(\sum_{j\in\mcI}) \theta_i /
\epsilon I!)$.
We note that the convergence time is dependent on the ratio of
supply and demand, or the ratio of buyers to sellers.

We focus on providing users with an incentive framework, and
so rational users choose a collaborative exchage. 
The user strategies are organic in that they are natural, or
induced by the dynamic market itself. In other words, adhering to the second-price rule,
where price is derived from autonomous demand, we have a strategic
progressive auction, and a multi-objective equilibria.
This is the (built-in) transformation from the
direct-revelation mechanism to the desired message space, Then, in the limit of
the data-model, a user reveals its valuation of a quantitiy of data-resource over the whole range of possible demands.

We describe our auction mechanism as a
pure-strategy progressive game with incomplete, but perfect information.

The paper is organized as follows... (TODO)

\section{Related Work}

Progressive second price auctions (PSPs) were proposed
in \cite{lazar}, \cite{diffserve} to provide a dynamic network service pricing
scheme to provide consistent services for network bandwith users.
\cite{diffserve} conducts a game theoretic analysis, deriving
optimal strategies for buyers and brokers, and further shows the existence
of networkwide market equilibria based on their game-theoretic
model. Constructing necessary and sufficient conditions for the stability
of the game allows the sustainability of any set
of service level agreement configurations between Internet service
providers.
It was shown, in \cite{lazar}, that the mechanism may converge to a Nash market
equilibria for differentiated services
allocated between multiple agents when all players bid their real marginal valuation
of the bandwidth resource. In other words, the PSP constraints are
sufficient to attain the desirable property of truthfullness through incentive
compatibility. The pricing mechanism upholds the \emph{exclusion-compensation
principle}, user $i$
pays for its allocation so as to exactly cover the ``social opportunity cost"
which is given by the declared willingness to pay (bids) of the users who are
excluded by $i$'s presence, and thus also compensates the seller for the maximum lost potential
revenue \cite{lazar}.



In \cite{zheng}, the ISP matches buyers and
sellers to each other, and determines the amount
of data that users can buy or sell. A buyer always pays her
bid price for any data bought, and similarly a seller always
receives his bid price, with any differences between the amounts
paid and received acts as revenue for the ISP.
%Then, the ISP will match buyers and sellers so as to optimize its revenue.

Most previously studied data auctions aim to mitigate net-
work congestion. For example, \cite{pubacs} considers a scheme in
which users place bids on each transmitted data packet and the
ISP admits packets in order of decreasing bids.

\section{The Problem Model}

\subsection{The Secondary Market}

We construct the model for a PSP data auction for mobile users
particpating in secondary mobile data exchange market.
Let the set of all wireless users to be labeled by
the index set $\mcI = \lbrace 1, \cdots, I\rbrace$. In our current formulation, we do not allow a seller to host multiple
auctions, thus we may assume that data is a unary resource belonging to the seller, and
identify each local auction with the index of the seller
$j\in\mcI$. The bid profiles of the users are given as,
$s \equiv
[s_i^j] \in \mcI \times \mcI$,  
We have the strategy space for buyer $i$ as all possible bids at all auctions:
$S_i=\Pi_{j\in\mcI} S_i^j$, and $S_{-i} =\Pi_{j\in\mcI} \big( \Pi_{k\ne
i\in\mcI} S_k^j\big)$ as the
associated opponent profiles. 
\iffalse
(HERE)
Additionally, we assume that a user's budget is 
sufficient, as the alternative is to pay the overage fee to the ISP, but as we
assume a rational user.
\fi

The grid of bid profiles, $s$, represents the state of distributed PSP auction
mechanism in the secondary market. 
We emphasize that we allow the grid $s$ to represent the bids of all buyers and
sellers. In general, we will not reference the full grid. In order to emphasize
that a bid belongs to a seller, we use the notation $\s_i^j$. We
will also empasize the \emph{context} of the bid to indicate the user type.
To further clarify our analysis, we adopt the notational conventions: a
seller's profile is denoted by $\s^j = [s_i^j]_{i\in\mcI}$, and $s_i =
[s_i^j]_{j\in\mcI}$ denotes a buyer's profile, where $s_{-i} \equiv [s_1^j , \cdots , s_{i-1}^j , s_{i+1}^j , \cdots
, s_I^j]_{j\in\mcI}$ as the profile of user $i$'s opponents.
Furthermore, noting that this is a simplification for ease of notation, we let
$D^j = \sum_{i\in\mcI} d_i^j$ be the total amount of data $j$ has to sell, and
$D_i = \sum_{j\in\mcI} d_i^j$ represent the total amount of data desired by buyer $i$. 

We assume a public platform, published by the ISP, that allows sellers to advertise their
auctions, and that buyers may submit bids directly to sellers over the wireless
network. 
The ISP is included
by introducing a mutation of user type, and represent
the ISP as a blind, deaf user $\kappa$, who does not participate
in any auctions, but nonetheless holds the power to create a monopoly. At time
$t=0$, a seller $j$ entering the market will
submit bid $\s_\kappa^j =(D^j, \epsilon)$ to the public data exchange
platform, and so the initial bid $\s_\kappa^j$, is public knowledge. 

We assume that buyers and sellers are
separated (a seller does not also buy data and vice versa). 
In general, we denote a buyer's identity $i \in \mcI$, and a seller as
$j\in\mcI$.
Suppose $i$ is buying from $j$. The bid is represented by $s_i^j = (d_i^j, p_i^j)$, 
meaning $i$ would like to buy from $j$ a quantity $d^j_i$ and is willing to pay
a unit price $p^j_i$. 
Seller $j$'s local auction begins at time $t>0$. The seller takes reponsibility
to send opponent bid profiles $s_{-i}$ to each buyer that joins the auction,
those buyers where $s_i^j > 0 \in s$, as well its own bid, $\s_i^j = (d_i^j,
p_i^j)$, offfering quantity $d_i^j \in d^j = [d_i^j]_{i\in\mcI}$, 
with reserve unit price $p_i^j \in p^j = [p_i^j]_{i\in\mcI}$. 
Naturally, in a live auction, if a buyer does
not submit a bid to a seller, then this implies $s_i^j=\s_i^j = 0$. A buyer that does not submit a bid will not recieve opponent profiles from seller
$j$. We additionally determine that a user who does not submit a bid is holding
to the previous bid, either zero or nonzero. We note that buyers are
consistently referenced using the index $i$ as a subscript, and sellers using
the index $j$ as a superscript, as in \cite{semret}.

We will examine the role of buyers, who are able to directly
influence global market dynamics, and assume that the sellers take a reactionary role.
Each buyer $i$ will have information from each seller $j$, as well as opponent
profiles $s_{-i}$, from each auction in which it is participating.
In the extreme case, where $i$ submits bids to all auctions $j\in\mcI$, buyer
$i$ gains access all buyer profiles, $[s_1, \cdots, s_I]$. However, 
sellers can only gain information about the market grid by observing buyer
behavior in their local auction.
Finally, we define the seller pool for buyer $i\in\mcI$: 
% MIN SET
$$
    \mcI_i(n) =\argmax_{\mcI' \subset \mcI, \vert\mcI'\vert =
n}\sum_{j\in\mcI'} D^j,
$$
and similarly, for a seller $j\in\mcI$, we define the set of participating buyers:
$$
    \mcI^j(m) =\argmax_{{\mcI}' \subset \mcI, \vert{\mcI}'\vert =
m}\sum_{i\in{\mcI}'} p_i^j,
$$
where $m, n\in\mcI$.

\subsection{The Data Market Problem}

We aim to design a distributed PSP auction, operating within a strategic framework that
determines the bidding behavior of users in a wireless network.
The auction design must must meet a certain set of known
criteria: (1) \emph{truthfulness}, (2) \emph{individual rationality/
selfishness}, (3) \emph{social welfare maximization}, and (4)\emph{the winning
bid is private}. For the secondary data exchange
market, we determine that the
strategy space must meet additional criteria: (5) \emph{privacy and
independence from the ISP}, (6) \emph{locally fair division}, and (7)
\emph{minimize crossover in buyer/ seller pools}.
Thus, we propose a design to replace centralized data exchange
markets, e.g. 2cm..


There is a clear need for privacy in the secondary data exchange market. In \cite{zheng},
it is assumed that the ISP interferes in 2cm (market) dynamics, and will maximize the
gap between supply and demand in each transaction, exacting the difference as
revenue. We notice that this market behavior is suspiciously monopolistic, as a
single entity holds the global market power. It is further claimed in
\cite{zheng} that user bids are truthful as they are guaranteed to receive
their bid. We argue that this model represents an ``unwitting" buyer and an
equally uninformed seller, as they have no intution of fair market value.
Thus, in the interest of social good, we aim to provide a method to arrest
anti-competitive conduct by ISPs. Thus our motivation to adapt the PSP auction,
as it is easily distributed, and further has the property that user valuation
functions are private. We propose an alternative to the centralized data
exchange market that will prevent the exploitation of wireless users by their ISPs.

We define an \textbf{opt-out function}, $\g_i$, associated with a buyer $i$ as
part of its type. Buyer $i$, when determining how to aquire a possible allocation $a$,
will determine its bid quanities by,
\begin{equation}\label{opt-out}
    \g_i(a) = [\g_i^j(a)]_{j\in\mcI}.
\end{equation}
In a general sense, $\g_i$ applies our user strategy to the PSP rules.

\subsubsection{Truthfulness.}
We prove that the dominant strategy for buyers is to submit coordinated bids,
where all bids the buyer submits are equal. Our motivation for coordinated bids
comes from the idea of potential games \cite{shapely}. In potential games, the
incentive of all users to change strategy can be expressed as a single global
function. We map the incentive of a buyer over all auctions $j\in\mcI$ to a
single potential function. This is a standard method that is used often, as it
simplfies the analysis of both strategy and auction design. 
We define the composition,
$$
     \g_i^j \circ a = \g_i^j(a) = \frac{a_i^j}{j},
$$
to be the buyer strategy with respect to quantity. We will prove that for each
buyer $i\in\mcI$ that $g_i^j(a)$ is equal $\forall \ j$. Finally, we prove the necessary condition of an $\epsilon$-best
reply: a new bid price must differ from the last by at least $\epsilon$.
Thus, our strategic bid is an $\epsilon$-best response.

\subsubsection{Individual rationality.}
We prove that a buyer cannot have a negative utility. Our
strategic framework creates an incentive for the seller to maintain a local
equilibrium, where supply equals demand. 
We define the reserve price for seller $j$ as,
\begin{equation}\label{newprice}
    p_*^{j} = p_{i^*}^{j} + \epsilon,
\end{equation}
where $i^*$ is the highest losing bidder with respect to bid price.
We claim that the choice of reserve price $p_*^j$ does not force any buyers out
of the local auction. 
A truthful bid implies that the new bid price differs from the last bid price by at least
$\epsilon$. As a seller must distribute bid vectors to all
buyers in its auction, we reason that the seller may employ a strategic caveat.
The seller will notify a buyer who is subject to a market shift by changing its
bid at the appropate index, and provide a proof by cases.

\subsubsection{Social welfare maximization.}
We claim that this is a natural consequence of PSP. Additionally,
the mechanism is self-contained, and as prices are derived from market dynamics, there cannot be any nefarious or
criminal entity negatively influencing the market. 

In the original bandwidth-sharing model, the allocation role defines the active edges in a network for a particular bidder. 
The flexibily of correspondance, and
the ability for instantaneous communication in the distributed wireless network, allows for a more general, and
thus adaptive strategy. We therefore introduce additional restrictions on
defining properties of PSP multi-auctions, and claim they are normal.

\subsubsection{Buyers are anonymous}
We have that any local auction is anonymous by definition, as a permutation of
the valuations resutls in a permutation of allocations and prices, equivalently,
exchanging the bids of two losing buyers does not change the auction's result.
Formally,
\definition{(Anonymous auction)} \cite{???}
Given an auction $j$ and buyers $i\in\mcI$, a protocol for computing
$\max\lbrace i \in\mcI : p_i^j \ge p_k^j \ \forall \ k\in\mcI\rbrace$ if for
all coalitions $T\subset \mcI$, any pair of inputs $x = [s_1^j, \cdots,
s_I^j], \xi$, so that $\xi$ is a permutation of $x$, $\forall \ i \in T : x_i =
\xi_i$, and $\max( )$, and any choice of random inputs $\lbrace
r_i\rbrace_{i\in T}$. Let $\bar{T} =   T \times \mcI \setminus T$, 
$$
    Pr\big([x, \lbrace r_i\rbrace_{i\in T}]_{x\in}
    \big\vert
    \lbrace r_i\rbrace_{i\in T}\big) = Pr\big([\xi, \lbrace r_i\rbrace_{i\in T}]_{\xi\in T
    \times \mcI \setminus T}\big\vert
    \lbrace r_i\rbrace_{i\in T}\big)),
$$
which states that any two inputs, the messages seen by coalition $T$
are indentically distributed.

\subsubsection{The winning bid is private.}
We claim that a buyer's trust in a local auction is fufilled when the outcome of
the auction is guaranteed to be correct, and if the buyers' identity is secret.
We define a value to be private if any coalition is incapable of learning any information
besides what can be inferred from the shared computation and the coalitionâ€™s
inputs \cite{felix}. For each local auction, we define a coalition of the
participating buyers. The winning bidder is \emph{privately} chosen by
distributing the computation of the winner to the local coalition.

We follow the process given in \cite{felix}. In general, a distributed private
computation is as follows: Denoting $m_{-i} = [(s_i^*, r_i), m_1, \cdots, m_n]_{k\ne i\in \mcI}$, buyer sends a
message to each of its opponents, where $s_i^*$ is $i$'s bid, $r_i$
is an independent random value, and $m_1, \cdots, m_n$ the messages $i$ has
received so far.
Then, all buyers are able to confirm the winning bid $s_{\bar{i}}^*$. 


\subsubsection{Privacy and independence from the ISP.}
In our model, free-market exchange is protected as privacy is integrated into the
mechanism. Our design enforces privacy by a (HERE) The, the auction
begins at time $t>0$, and at $t=0$, $j$ will,
initializing its reserve price by holding a single bid iteration.
Sellers do not update pricing information with the ISP, thereby hiding
its local market price in the data-exchange market. As the ISP has limited
information from its ``competitor", it is unable to sabatoge prices derived
from fair market competition.
Thus, we claim that our model supports and protects the secondary market, allowing it
to be in direct competition with its parent ISP, and so contributes to the
regulation of ISPs \cite{fedbill} and supports a regional free-market economy
with respect to wireless data \cite{cabill}.
We will assume that the cost of participating in the secondary market is
absorbed by the bid fee, which could represent data used in submitting bids, or
a fee charged per unit of data, or a flat rate charged at the completion of the
purchase. We do not model ISP revenue, but assume it may be extracted from the
bid fee at $t=0$.

\subsubsection{Locally fair division.}
We claim that the allocation $a$ by seller $j$ for a local auction at
equilibrium is an equitable division, where each buyer equally values their
portion of the allocation. We have,
$$
    \displaystyle\int_0^{\g_i^j(a)} f_i(z) \ dz = \int_0^{\g_k^j(a)} f_k(z) \ dz,
$$
which follows from Proposition \ref{userunion}.

Let $i,k$ be buyers in auction $j$, and let $\vert\mcI^j\vert = 2$. Suppose $j$
is at equilbrium, i.e. $\g(a)_i^j + \g(a)_k^j = D^j$. From the buyer valuations,
$\theta_i$ and $\theta_k$ over $[0, D^j]$, we have bid quantities $z_i, z_k$
representing a $50-50$ division. We follow the surplus procedure \cite{???}.
Let $z_i < z_k$ and let $z_{ik}$ be the point in $[z_i, z_k]$ such that
    
we have that $\theta_i(g_i^j(a)) =
\theta_k(\g_k^j(a)$. Each buyer recieves an allocation based on their valuation.

In the case where a buyer $i\in\mcI^j$ changes strategy such that
$\theta_i - \theta_k < \epsilon$ for some $k\in\mcI^j$, it follows that 

\subsubsection{Minimize crossover in buyer/ seller pools.}
Buyer $i$'s seller pool is determined by minimizing $n$, and is the smallest set of sellers that
allows for a coordinated bid, and the aggragate bids satisfy its demand, $D_i$.
\begin{align}
\begin{split}\label{buyercoordinate}
    \min\big\lbrace n \in \mcI \ &\vert \ n D^n\ge D_i \big\rbrace. 
\end{split}
\end{align}
Similarly, seller $j$ determines the minimal set of buyers that maximizes revenue and
sells all of its data, $D^j$.
\begin{equation}\label{sellercoordinate}
    \min\bigg\lbrace n \in\mcI \ \bigg\vert\displaystyle\sum_{i\in\mcI^j(n)}d_i^j
\ge D^j \bigg\rbrace,
\end{equation} 
We further determine that the set of buyers and sellers participating
in a single equilibrium is bounded by the potential indirect costs of
participation. We will denote this individual cost to each user as
$\varrho$. The indirect cost is the portion of the bid fee
$\epsilon$ that is dependent on the underlying network and the individual.
Observing that $\varrho$ indirectly effects user utility,
and therefore acts to establish a natural budget for each user. We give this
constraint as, 
\begin{equation}\label{poolbnd}
    u \le \varrho,
\end{equation}
which may be interpreted as the effort a rational user is willing to expend
on its message space, and serves to limit the size of the buyer/seller pools. 
This information may be collected from a specific
device's configuration, i.e. enabled roaming, daily data restrictions.
It is clear that an unconstrained
market, even with a finite number of users, could suffer from the
expense of many local auctions trading an infinitely divisible resource, thus
$\varrho$ is interpreted as
the ``liability" component of $\epsilon$ attempts to regulate network congestion. 

In order derive a distributed PSP implementation that arrives at an optimal
objective,
we analyze the behavior of users in a dynamical data exchange market. 
Buyers and sellers are able
to change their bid strategies asychronously and serially, using local information to determine their strategy. 
A users' local strategy space is therefore nondeterministic, and the prefererences of users
are subject to change, i.e. binary dependence.
Then, from \emph{Arrow's Theorem}, we have that no deterministic strategy can
provide a mapping of the preferences of users into a market-wide (complete
and transitive) strategy. As individual bids cannot map to a general objective, a better market
position can only be determined by an adaptive strategy.
We define a move to a better market position to be synonymous with a
strategic bid. \\ 
\textbf{Remark:} The terms ``bid" and ``strategy" are often interchangable,
from auction design and game theory, respectively.\\

\section{Strategic Framework}

\subsection{User Valuation}

We address the market risks and securities in our secondary data exchange market. 
We provide a game-theoretic model of a real market progression, which we use to
derive, then define, adaptive variables. 
Assuming equal bandwidth for all users, and derive a globally optimal strategy suited for
users with local information in a distrubuted data-sharing model. 

Our mechanism allows a buyer
to \emph{opt-out} of auctions by submitting zero bids. This strategy maximizes
utility while minimizing the number of positive bids submitted to the overall
market. 
% OPT-OUT BUYER
We define each buyer as a user $i\in\mcI$ with quasi-linear utility
function $u_i = [u_i^j]_{j\in\mcI}$, a buyers' utility function is of the form,
\begin{equation}\label{buyerutility}
    u_i = \theta_i \circ (\g_i(a)) - c_i,
\end{equation}
where the composition of the elastic valuation function $\theta_i$ with $\g_i$
distributes a buyers' valuation of allocation $a$ across local markets (and thus
multiple sellers).
In this way we extend the PSP rules described
in \cite{semret} to design equilibria across subsets of local data-exchange markets.

The sellers, $j\in\mcI$ are not associated with an opt-out function, we
consider their valuation to be a functional extension of the buyers, where
$\theta^j$ is constructed by buyer demand.
The sellers strategy can only be to determine the reserve price of their local
auction, using only information from buyers who have not opted out.
In our analysis, we demonstrate market dynamics, and further show evidence of symmetry in the strategies of
buyers and sellers.

\subsubsection{Valuation under Market Dynamics}
The buyer demand largely motivates the market price function, however, the
distributed nature of the market prevents any single user from knowing the
market demand for a quantity of data. All users have knowledge of market
supply, as this is public information, however only buyers
are able to determine supply or demand across multiple auctions, and then only from auctions
in which they participate. \\
\textbf{Remark:}
It is possible that a seller would be able to derive information about other
auctions by examining buyer bids over time, particularly if the seller had
knowledge of the buyer strategy. In this work, we assume sellers are unable to derive opponent information from buyer bids. \\

We interpret the collection of local auctions as collection of strategic games
of incomplete but perfect information,
where a buyers' payoff depends on the dynamics of the set of local auctions it
``chooses".
In a multi-auction market, each auction a buyer joins has the potential to
decrease the potential cost of its data. However, increasing the size of the
auction implies a certain risk, which we may interpret as a potential and
definite
liability. Increasing the number of transactions causes additional messaging
overhead, fees, and increased competition from other buyers. 
A transaction also causes potential indirect costs, which may be considered work done to find
sellers, or effort of communication from participation. A seller
has the potential for greater profit with each new buyer in its auction, taking 
the same risk.
%We define this cost to be separate from the bid fee $\epsilon$, as it is dependent on the underlying network
%and the individual. We denote the potential indirect costs of participation of
%each user as $\varrho$.
The liability of any user is naturally absorbed into the bid fee $\epsilon$,
as described in \cite{semret}. Therefore, according to our interpretation, the bid fee is
dependent on the association between two users and their market positions, in
addition to the underlying network structure. Now, both sellers and buyers must consider
the cost of adding additional users to their subsequent pools. (MODEL SEPARATE,
OR DYNAMIC, TO OPTIMIZE SIZE OF SUBSETS?)

Elastic valuation functions allow for even infinitesimal changes in the market
dynamics to be modeled. This, and the homogenous nature of data in the CMHK market, 
allows for the analysis of constraints imposed by the user strategies. 
Buyers may directly impact each other in local market intersections.
Thus our motivation to begin our analysis with buyer valuation $\theta_i$.
A buyers' valuation of an amount of data represents how much a buyer is willing
to pay for that amount. 
This is equivalent to the bid price, given a fixed amount of data,
satisfying $\theta_i$. We determine the
buyers' utility-maximizing bid given quantity $z\ge0$ to be a mapping to the lowest
possible unit price. We have,
% BUYER PRICING 
\begin{equation}\label{buyerinversedemand}
    f_i(z) \triangleq \inf\big\lbrace y\ge 0:
        \rho_i(y) \ge z, \ \forall \ j \in \mcI\big\rbrace,
\end{equation}
where $\rho_i(y)$ represents the demand function of buyer $i$ at bid price
$y\ge 0$, and gives the quantity that buyer $i$ would buy at a given price.
We determine that the market supply function corresponds to an extreme of
possible buyer demand, and 
acts as an ``inverse" function of $f_i$. We have, for bid price $y\ge 0$,
% BUYER DEMAND 
\begin{equation}\label{datasupply}
    \rho_i(y) = \sum_{j\in\mcI : p_i^j\ge y} D^j.
\end{equation}
We note that $f_i$ is such that
$i$ could still bid in \emph{any} auction $j\in\mcI$.
Therefore, in a coordinated bid, the utility-maximizing bid price is the
lowest unit cost of the buyer to participate in all auctions, and corresponds to
the maximum reserve price amongst the sellers. 
%We will later show, in Proposition
%\ref{buyercoordinate}, that a buyer does not lose utility from coordinating its
%bids, i.e. using the same bid for all auctions.

A seller only has
information from buyers in its own auction, and may only be indirectly influenced by
buyers in other auctions. So from the perspective of the
seller we have a more direct interpretation of valuation as revenue.
We determine the demand function of seller $j$ at reserve price $y\ge 0$ to be,
% BUYER DEMAND 
\begin{equation}\label{datademand}
    \rho^j(y) = \sum_{i\in\mcI : p_i^j\ge y} \g_i^j(a), 
\end{equation}
and define the ``inverse" of the buyer demand function for seller $j$ as
potential revenue at unit price $y$, we have, 
% SELLER REVENUE 
\begin{equation}\label{sellerinversedemand}
    f^j(z) \triangleq \sup\big\lbrace y\ge 0:
        \rho^j(y) \ge z, \ \forall \ i \in \mcI\big\rbrace,
\end{equation}
and, unsurprisingly, $f^j$ maps quantity $z$ to the highest possible unit data
price.

The valuation of any user must be modeled as a function of the entire
marketplace. 
Naturally, a buyers' valuation is aggragated over local markets, and the
sellers' valuation is aggragated over its own auction. We have already introduced the composition $\theta_i
\circ \g_i$ as the valuation of the buyers.
We further show that user valuation satisfies the conditions for an
elastic demand function, with valuations based on
(\ref{datademand}) and (\ref{sellerinversedemand}). 
\definition{(Elastic demand) \cite{lazar}}
A real valued function, $\theta(\cdot): [0,\infty) \rightarrow [0,\infty)$, is an \emph{(elastic) valuation
function} on $[0, D]$ if 
\begin{itemize}
    \item $\theta(0) = 0$,
    \item $\theta$ is differentiable,
    \item ${\theta}' \ge 0$, and ${\theta_i}'$ is non-increasing and continuous,
     \item There exists $\gamma > 0$, such that for all $z \in [0,D]$,
${\theta}'(z) > 0$ implies that for all $\eta \in [0, z), {\theta}'(z) \le
{\theta}'(\eta)
- \gamma(z - \eta)$. 
\end{itemize}
We first note that, in
general (and so we omit the subscript/superscript notation), the valuation of data quantity $x\ge 0$ is given by,
$$
    \theta(x) = \int_0^x f(z) \ dz,
$$ 
as in \cite{semret}. Now, we have the following Lemma,
{
\lemma{(User valuation)}\label{uservaluation}
For any buyer $i\in\mcI$, the valuation of a potential
allocation $a$ is, 
\begin{equation}\label{buyervaluation}
    \theta_i \circ \g_i(a) = \displaystyle\sum_{j\in\mcI}
 \int_0^{\g_i^j(a)} f_i(z) \ dz.
\end{equation}
Now, we may define seller $j$'s valuation in terms of revenue,
\begin{equation}\label{sellervaluation}
    \theta^j= \displaystyle\sum_{i\in\mcI} \theta^j \circ \g_i^j(a) = \sum_{i\in\mcI}
 \int_0^{\g_i^j(a)} f^j(z) \ dz.
\end{equation}
We have that $\theta_i$ and $\theta^j$ are elastic valuation functions, with
derivatives
${\theta_i}$ and ${\theta^j}'$ satisfing the conditions of elastic demand.
}
\textbf{Proof:} 
Let $\xi$
be a unit of data from buyer bid quantity $\g_i^j(a)$.
If $\xi$ decreases by incremental amount $x$, then seller bid $d_i^j$ must
similarly decrease. The lost potential revenue for seller $j$ is the price of
the unit times the quantity decreased, by definition, $f^j(\xi)x$, and so,
$$
    \theta^j(\xi) - \theta^j(\xi-x) = f^j(\xi)x.
$$
Thus (\ref{sellervaluation}) holds.
As we may use the same argument for (\ref{buyervaluation}), as such, we will
denote $f_i=f^j=f$ for the remainder of the proof. We observe that the function
$f$ is the first
derivative of the valuation function with respect to
quantity. Letting $\theta_i=\theta^j=\theta$, the existence of the derivative implies $\theta$ 
is continuous, and therefore, in this context, $f$ represents
the marginal valuation of the user, ${\theta}'$. Also, clearly
$\theta(0)=\theta(\sigma(0)) = 0$. Now, as we consider data to be an infinitely
divisible resource, we have a continuous interval between allocations $a$ and
$b$, where $a\le b$. Now, as $\theta$ is continuous, for some $c\in[a,b]$, 
$$
\theta'(c) = \lim_{x\to c}\frac{\theta(x) - \theta(c)}{x-c} = f(c),
$$
and so $f=\theta'$ is continuous at $c\in[a,b]$, and so as $a\ge 0$, 
$\theta'\ge 0$. Finally, we have that concavity follows from the demand
function. Then, as $\theta'$ is
non-increasing, we may denote its derivative $\gamma \le 0$,
and taking the derivative of the Taylor approximation, we have, $\theta'(z) \le
\theta'(\eta) + \gamma(z-\eta)$.
$\qed$

Utility is defined by their valuation, and is the basis for user behavior. 
The sellers' natural utility is the potential
profit, or simply $u^j = \theta^j$, where we have chosen to omit the original cost of the data
paid to the ISP, as it is not a component of our mechanism, and as a discussion
of mobile data plans is outside the scope of this paper.  
Now, a rational user will try
to maximize its utility, thus, user incentive manifests as a
response to market dynamics. A buyer has the choice to
opt-out of any auction, and as a seller will try to sell the maximum amount of
data, the highest possible reserve price is conditioned by ``natural" constraints. Utility-maximization 
acts as revenue maximization for a rational seller, and as cost minimization for a
rational buyer. Thus, for each user $p_i^j \ge \min\big(p_i^j)$ and $p_i^j \le
\max\big(p_i^j)$, which holds $\forall \ i, j\in\mcI$ such that $s_i^j>0$.
Now, rational buyer does not want to purchase extra data, as this would be
equivalent to overpaying, however $i$ submits positive bids to a set of
sellers, and a rational seller will attempt to maximize profit, and so will try and sell all of
its data. Therefore,
\begin{equation}\label{bidcap}
    \displaystyle\sum_{i\in\mcI} \g_i^j(a) \ge D^j \quad\text{and}\quad
\sum_{j\in\mcI} d^j_i \ge D_i,
\end{equation}
which holds $\forall \ i,j\in\mcI$. We will assume that buyers and sellers do not overbid, and so omit this
constraint from our formulation.
Thus, at equilibrium all users are satisfied, and 
$D^j = D_i$, although we observe that this result
does \emph{not} imply that $s_i=s^j$. 


Finally, it is worth mention that the \emph{analysis} of the auction as
a game assumes some forms of demand and supply, in order to derive properties.
The mechanism itself does not require any knowledge of user demand or
valuation. 
\subsection{PSP for Data-Exchange}

% MECHANISM
\subsubsection{Data Auction Mechanism}\label{datamechanism}
We now proceed to formally define the PSP auction, which determines the actions 
buyers and sellers in the CMHK market, and which we will denote the \emph{data}
PSP rules. The rules presented here incorporate of the opt-out function with the
mechanism as in \cite{lazar}, which we note greatly simplifies our
analysis. 
The market price function (MPF) for a buyer in the CMHK market
can be described as follows:
% NEW MARKET PRICE
\begin{align}\label{dataprice}
\begin{split}
    &\bar{P}_i(z, s_{-i}) =\displaystyle\sum_{j\in\mcI} \ \g_i^j \circ P_i^j(z_i^j,
s_{-i}^j) \\
    &= \sum_{j\in\mcI}\bigg(\inf\bigg\lbrace y\ge 0 : 
    {D_i^j}(y,s_{-i}^j) \ge \g_i^j(z) \bigg\rbrace \bigg),\\
\end{split}
\end{align}
and is interpreted as the aggragate of minimum prices that buyer $i$ bids in
order to obtain
data amount $z$ given opponent profile $s_{-i}$. We note that
the total minimum price for the buyer must be an aggragation of the
\emph{individual} prices of the buyers as it is possible that the reserve prices
of the individual sellers may vary.\\
\textbf{Remark:} We further note that except at points of discontinuity, from
Lemma \ref{uservaluation} we have that $P_i^j(z) = f_i(z)$. \\
(THE ABOVE IS GOOD, BUT DOESN'T FIT MY CONSTRUCTION, CHANGE TO BELOW?)
The market price function (MPF) for a buyer in the CMHK market
is determined per (\ref{buyerinversedemand}), and is defined as,
% NEW MARKET PRICE
\begin{align}\label{dataprice}
\begin{split}
    &\bar{P}_i(z, s_{-i}) =\displaystyle\sum_{j\in\mcI} \ \g_i^j \circ P_i^j(z_i^j,
s_{-i}^j) \\
    &= \sum_{j\in\mcI}\bigg(\inf\bigg\lbrace y\ge 0 : 
    {D_i^j}(y,s_{-i}^j) \ge \g_i^j(z), \ \forall \ j\in\mcI \bigg\rbrace \bigg),\\
\end{split}
\end{align}
and is interpreted as the price that buyer $i$ bids in
order to obtain
data amount $z$ given opponent profile $s_{-i}$.
The sellers pricing function is according to (\ref{sellerinversedemand}), 
\begin{align}\label{dataprice}
\begin{split}
    &\bar{P}^j(z, s_{-i}) =\displaystyle\sum_{i\in\mcI} \ \g_i^j \circ P_i^j(z_i^j,
s_{-i}^j) \\
    &= \sum_{j\in\mcI}\bigg(\sup\bigg\lbrace y\ge 0 : 
    {D_i^j}(y,s_{-i}^j) \ge \g_i^j(z), \ \forall \ i\in\mcI \bigg\rbrace \bigg).\\
\end{split}
\end{align}
We note that
the total price cannot be an aggragation of the
\emph{individual} bid prices as it is possible that the reserve prices
of the individual sellers may vary, which contradicts
(\ref{buyerinversedemand}) and (\ref{sellerinversedemand}).\\
\textbf{Remark:} We further note that except at points of discontinuity, from
Lemma \ref{uservaluation} we have that $P_i^j(z) = f_i(z)$. \\
%To simplify the notation, we define $z_i^j = d^j / \vs_i^j$ opt-out
%buyer $i$'s bid quantity. 
The maximum available quantity of data in auction
$j$ at unit price $y$ given $s_{-i}^j$ is: 
% NEW ALLOCATION RULE
\begin{align}
\begin{split}\label{datacomposed}
    \bar{D}_i^j(y,s_{-i}^j) &= \g_i^j \circ D_i^j( y,s_{-i}^j)\\
    &= \bigg\lbrack D^j - \sum_{p_k^j> y} \g_k^j(a)\bigg\rbrack^+.
\end{split}
\end{align}
It follows from the upper-semicontinuity of $D_i^j$ that for $s_{-i}^j$ fixed, $\forall \ y,z \ge 0$,
\begin{equation}\label{dtop}
    \g_i^j(z) \le \g_i^j \circ D_i^j(y,s_{-i}^j) \Leftrightarrow y \ge \g_i^j
\circ P_i^j(z,s_{-i}^j).
\end{equation}
% DATA ALLOCATION RULE
The resulting data allocation rule is a function of the local market
interactions between buyers and sellers over all local auctions, as is composed with $i$'s opt-out value, so that for each $i \in \mcI$, the
allocation from auction $j$ is,
% and so for profile $s_i$, for any $i \in \mcI$,
\begin{align}\label{dataallocation}
\begin{split}
    \bar{a}_i^j(&s) = \g_i^j \circ a_i^j(s) \\
    &= \min\bigg\lbrace \g_i^j(a), 
    \frac{\g_i^j(a)}{\displaystyle\sum_{p_k^j= p_i^j}\g_k^j(a)} 
D_i^j(p_i^j,s_{-i}^j)\bigg\rbrace,
\end{split}
\end{align}
noting that for the full allocation from all auctions we may simply aggregate
over the seller pool. \\
\textbf{Remark:} The bid quantity $\g_i^j(a)$ and the allocation $\bar{a}_i^j$
are complementary. In fact, the buyer strategy is the first term in the
minimum, the second term being owned by the seller. \\
Finally we must have that the cost to the buyer adheres to the second price
rule for each local auction, with total cost to buyer $i$,
% DATA COST
\begin{align}\label{datacost}
\begin{split}
    \bar{c}_i(s) &= \displaystyle\sum_{j\in\mcI} 
    p_i^j \bigg(\bar{a}_i^j(0; s_{-i}^j)
    -\bar{a}_i^j(s_i^j;s_{-i}^j)\bigg).
\end{split}
\end{align}
\textbf{Remark:} The cost to buyer $i$ adds up the willingness
of all buyers excluded by player $i$ to pay for quantity $\bar{a}_i^j$. i.e.
$$
    c_i^j(s) = \displaystyle\int_0^{\bar{a}_i^j} P_i^j(z, s_{-i}) \ dz.
$$
This is the ``social opportunity cost" of the PSP pricing rule.

The formulation is inspired to the thinnest allocation route for
bandwidth given in \cite{lazar}. We note that if a single seller $j$ can
satisfy $i$'s demand, then
(\ref{buyerutility}) reduces to the original form, defined in
\cite{semret} as ``a simple buyer at a single resource element".

(OWN WORDS!)
The cost function will therefore be a stepwise-linear function, which is
increasing in slope with each new bidder excluded from the market.

\subsection{User Behavior}

\subsubsection{Buyer Strategy}
 
Although it is possible for a seller to fully satisfy a buyer $i$'s demand, it
is also reasonable to expect that a seller may come close to using their
entire data cap, and only sell the fractional overage. In this case, a buyer
must split its bid among multiple sellers. 
The buyer strategy bids in auctions with the highest quantities first,
a natural exploitation of the demand curve. A new seller entering the market
with a large quantity of data will be in high demand. This behavior contributes to market price
stability, as seller valuation is determined by buyer demand, the
buyer strategy tends towards equal valuation of all local markets, and therefore
similar prices. If a buyers' demand is not satisfied, they will need to bid in
markets with smaller data quantities, and so will bid on a larger portion of
the sellers' bid quantity, increasing their unit price. Market equilibrium is achieved when each buyer has equal bids in
each auction. Our bidding strategy is inspired by \cite{lazar}, and we also
hold buyers to consistent bids, where buyers sumbit identical bids to a
subset of sellers with the highest offers. In the remainder of this section, we
will make the assumption of truthful bids from the buyer, although this
analysis is left to Section \ref{analysis}.
Thus, we determine when rational (utility-maximizing) buyers opt-out of a local auction. 
We propose the following strategy, 
% BUYER STRATEGY
{
\lemma{(Opt-out buyer strategy)}\label{buyerstrategy}
Define any auction duration to be $\tau \in [0,\infty)$. 
Let $i\in\mcI$ be a buyer and fix all other buyers' bids $s_{-i}$ at time
$t>0\in\tau$, and let $a$ be $i$'s desired allocation. 
% OPT-OUT BUYER STRATEGY

Now let $j^* = n \le I$ represent the seller with the least amount of data
$\in\mcI_i$, i.e. $D^{j^*} \le D^j, \ \forall\ j \in\mcI^j$, and define $i$'s bid
vector $\g_i$ with respect to its strategy, where
\begin{equation}\label{opt-eq}
    \g_i^j(a) \triangleq \begin{cases} \g_i^{j^*}(a), \quad j\in\mcI^j,\\
            0, \quad j\ni\mcI^j.\end{cases}
\end{equation}
and define bid price $p_i^j = \theta_i'(\g_i^j(a))$.
Now, (\ref{opt-eq}) holds $\forall \ j\in\mcI$,
and we have an optimal strategy for buyer $i$.
}\\
\textbf{Proof:}
We assume that a buyer will try and fill their data requirement.
In the case that there exists a seller who can completely satisfy a buyers'
demand, $j^*=1$, $\vert \mcI_i\vert =1$ and (\ref{buyercoordinate}) holds. If such a buyer does not exist,
as the set $\mcI_i$ is ordered by the quantity of the sellers' bids, $i$ may discover 
$j^*$ by computing $\mcI_i$.
Suppose that $D_i >
\sum_{j\in\mcI}D^j$, then $j^* > I$ and $\mcI_i = \emptyset$. 
We model the ISP at time $t>0$ as a seller $\kappa$ with bid $s^\kappa
=(d^\kappa, p^\kappa)$,
where $d^\kappa > D^j, \
\forall \ j\in\mcI_i$, and
$p^\kappa$ represents the overage fee for data set by the ISP, which we note is also the upper bound of the sellers'
pricing function.
Consider some $k \ne i \in \mcI$ where $p_i^j = p_k^j$. 
The allocation rule (\ref{dataallocation}) determines that the data will be
split proportionally
between all buyers with the same unit price. 
It is possible that the resulting partial allocation of data to $i$ and $k$
would not satisfy some demand. As the two cases $i$ and $k$ are the same, we
will only consider one. Suppose seller $j$ updates its
bid to reflect the new data quantity, where
$d_i^{j(t+1)} < \g_i^{j(t)}(a)$. First, $i$ sets its bid to $s_i^j = 0$, and
from the new subset $\mcI_i$, submits bids until
$\sum_{j\in\mcI_i} \g(a)_i^j \ge D_i$, by (\ref{bidcap}).
Now, we consider the case where a new buyer $k$ with bid
price $p_k^j > p_i^j$ for some $j \ \in \mcI_i$, in other
words, a new buyer $k$ may enter the market with a better price, decreasing the
value of $i$'s bid for $j\in\mcI_i$. In this case, by (\ref{buyercoordinate}),
$i$ will choose $\mcI_i$ so that, $\g_i^{j(t+1)}(a) = \g_i^{j(t)}(a) - \g_k^{j(t)}(a)$,
and so $\mcI_i$ is large enough to balance the additional demand from
$k$. Finally, we consider the case where $\vert\mcI^j\vert = I$, where the
demand of buyer $i$ exceeds the supply, and the case where $\g_i(\varrho) >
\theta_i(\g_i(a))$, where the overhead exceeds the current valuation of the
data. Then, by (\ref{buyerinversedemand}), the valuation of the data increases until either
the demand is satisfied, the debit from the overhead costs are balanced
(\ref{poolbnd}), or the upper bound of the sellers' reserve price
$p^\kappa$ is reached. Thus, as in each case we have that $i$ is able to satisfy thier demand,
and we determine that the opt-out strategy is optimal.
$\qed$

Finally, we note that $\mcI_i$ is not the only
possible minimum subset $\in\mcI$ able to satisfy $i$'s demand, in fact, by
restricting the size of the set $\mcI_i$, we would be able to improve the
computation time of buyer $i$, at the cost of increasing the price.

\subsubsection{Seller Strategy}
In order to to develop the seller strategy, we examine the incentive of a
rational seller with only local information in a dynamic market of many
buyers and sellers. A local auction, examined independently, may appear as
single market with a single seller and many buyers, but is in fact a subset of the
larger data-exchange market, and is subject to the trends and dynamics
therewithin. A seller must determine allocations using only bids in its local market, while the buyers' response is based on the
allocations and resulting opponent bids from all auctions in its seller pool.
In addition, buyers are allowed to bid both dynamically and asychronously. 
In order to
maximize revenue, the seller must also be able to respond dynamically to
address the mutation of competitive bids in its market. In order to do this, we
determine that the seller may modify its reserve price in response to the
changing market dynamics.

We will show that sellers are able to maximize revenue in restricted subset of
buyers in $\mcI$, and as such will attempt to facilitate a local market
equilibrium for this subset. A local auction $j$ converges when all buyer bids
remain the same over a time step, that is, if $\forall \ i \in\mcI$,
$s_i^{j(t+1)} = s_i^{j(t)}$, at which point the allocation is stable, the data
is sold, and the auction ends. In the sellers' local environment, we determine
that the best course of action is to maximize revenue, and then try to keep its
buyer pool stable until convergence occurs. Thus, the seller strategy is
complementary to that of the buyers, and is designed to achieve and maintain a
local market equilibrium. 

We describe a \emph{local} auction strategy for data allocation, where the seller is unaware of the existence of other auctions, and so
the seller behavior is the same in the case of a single buyer, a small buyer set, and in the
extreme case, where all buyers $i\in\mcI$ participate. We again note that the
seller must initialize the strategy with a first iteration, and so the auction
is defined for time $t>0$.
In our model, a local auction may be described as a progressive game of strategy with
incomplete, but perfect information, however in our analysis, as before, we will assume
complete information. 
(BUYERS ARRIVE AS A POISSON PROCESS? FUTURE WORK)

% SELLER LOCAL STRATEGY
{
\lemma{(Localized seller strategy (i.e. progressive allocation))}\label{sellerstrategy}
Define any auction duration to be $\tau \in [0,\infty)$. 
For any seller $j$, fix all other bids $[s_i^k]_{i,k\ne j \in\mcI}$ at time $t>0\in\tau$.
Define buyer $i^* = n-1 \le I$ as the buyer with the maximum bid price $\ni
\mcI^j$.
Let the winner at time $t$ be determined by,
\begin{equation}\label{winner}
    \bar{i} = \displaystyle\max_{i\in I^j} p_i^{j(t)},
\end{equation}
and update $j$'s total data to reflect the (tentative) allocation,
\begin{equation}\label{newdata}
    D^{j(t+1)} = D^{j(t)} - \g_{\bar{i}}^{j(t)}(a),
\end{equation}
Allowing $t$ to range over $\tau$, we have that (\ref{sellercoordinate}) -
(\ref{newdata}) produces a local market equilibrium. 
}\\
\textbf{Proof:}
We assume that the seller will try to maximize its revenue. In the case where
$\vert\mcI^j\vert =1$, then if $\g_i^j(a)=D^j$, then $j$'s market is at equilibrium.
Otherwise, we arrive at the case of multiple buyers, which we note includes the
case where $\g_i^j(a) < D^j$, which is reflected trivially here.

For auction $j$ with multiple buyers, $i^*$ is the \emph{losing} buyer with the highest unit
price offer, determined by (\ref{sellercoordinate}), 
Suppose that for some $i\in\mcI^j$, buyer demand is not met. 
In this case, by (\ref{bidcap}) the seller must notify $i$ of a
partial allocation by changing the bid vector at index $i$.
With this caveat, and Proposition \ref{buyerstrategy}, we have that the
aggragate demand of subset $\mcI^j$ is satisfied by seller $j$.
Although the buyers' valuation $\theta_i$ is not known to the seller, we will assume
that buyers are bidding truthfully, and so the new reserve price $p_{i^*}^j +
\epsilon ={\theta_{i^*}}' + \epsilon$. For clarity, let the reserve price be denoted by
$p_*^j$.
Now, by the elasticity of (\ref{buyerinversedemand}) and
(\ref{sellerinversedemand}), we have that, $\forall \ z\ge 0$,
$f_{i^*}(z) < f^j(z) \le f_i(z)$,
which holds $\forall \ i \in \mcI^j$, and $\forall \ j \in \mcI_i$.
We claim that the choice of reserve price $p_*^j$ does not force any buyers out
of the local auction. To show this, we use the assumption of truthful bids, and
the fact that since the auction begins at time $t>0$, buyers will
bid at least once. As will be addressed in further analysis, we assume
that a new bid price differs from the last bid price by at least
$\epsilon$. Suppose the auction starts at equilibrium, so $\sum_{i\in\mcI^j}
\g_i^j(a) = D^j$ at time $t=0$. The reserve price $p_*^j$ set at time $t=0$
begins the auction with the first bid iteration, and so at $t>0$, $\forall \ i \in
\mcI^j$, we have that $p_i^j - p_*^j \ge \epsilon$.
Now, in the case where at $t=0$, $\sum_{i\in\mcI^j} \g_i^j(a) > D^j$, by
(\ref{dataallocation}), the seller notifies (any) buyer $k$ with the lowest bid
price of a partial allocation by changing
$d_k^j$ thus by Proposition \ref{buyerstrategy}, $k$ either decreases its
demand or increases its valuation until
$\g_i^j(a) \le d_i^j$. Then, as the seller computes the set $\mcI^j$ at each time
step, a new $i^*$ may be chosen and the buyers bid again.
Suppose $\exists \ k \in \mcI^j$ such that $\forall \ l \ \in
\mcI_k, \ i\ni \mcI^l \ \forall \ i\ne k\in\mcI^j$. That is, $k$ is
disconnected from all other buyers $i\in\mcI^j$, and suppose that $d_k^j$
is partial allocation at $t>0$, and further suppose that there are many
$l\in\mcI_k$ where $\vert \mcI^l\vert > \vert\mcI^j\vert$. The more buyers an
auction has, the more likely that cases will occur that cause buyers to rebid,
particularly if auctions $l\in\mcI_k$ have overlapping buyers, then $k$ may
opt-out of auction $j$, i.e. $s_k^{j(t)} \ne s_k^{j(t+1)} =
0$, then the seller may simply return the tentatively allocated data to $D^j$.
Finally, we note that if for some $i\in\mcI^j \ \exists \ k\in\mcI^j$
such that $p_{i}^j = p_k^j$, then the seller again notifies the buyers of a
partial
allocation by changing $d_i^j$ and $d_k^j$ by (\ref{dataallocation}).
Thus we determine the valuation between seller
$j$ and buyer $i$ is well-posed, the reserve price (\ref{newprice}) is justified, and the local
equlibirium created by $j$ is independently stable from time $t$ to $(t+1)$. 
$\qed$

\subsubsection{Market Dynamics under Strategy}

We conclude this section by examining the relationship between the strategies of buyers and
sellers in local auctions. We model the impact of the dynamics of the
data-exchange market on a local auction $j$. As we have shown, the seller
is a functional extension of the buyer, with rules determined by the buyers'
behavior. This gives an auction $j$ a natural logical extension into the
global market through its buyers. We demonstrate that the symmetry between
buyer and seller behavior, consequently strategies, stretches into a symmetry across subsets of local
auctions. Additionally, we identify a clear bound restricting the influence of
local auctions on each other. Defining a single iteration of the auction, where a seller updates bid vector
$s^j$, and the buyers' response $s_i$, to comprise a single time step, and we have the following Lemma,
% USER UNION
{
\proposition{(Valuation across local auctions)}\label{userunion}
For any $i,j\in \mcI$, 
\begin{equation}\label{jtoi}
j\in\mcI_i \Leftrightarrow i\in\mcI^j.
\end{equation}
Fix an auction $j\in\mcI$ with duration $\tau$ and define the influence sets of users. 
The primary influencing set is given as,
%(ALL THE SELLERS FROM EACH BUYERS POOL)
\begin{equation}\label{lambda}
    \Lambda = \displaystyle\bigcup_{i\in\mcI^j} \mcI_i,
\end{equation}
with secondary influencing set,
%(ALL THE BUYERS FROM EACH SELLER $i$ IN $j$'s BUYER POOL)
\begin{equation}\label{llambda}
    \lambda = \bigcup_{i\in\mcI^j} \bigg(\bigcup_{k\in\mcI_i} \mcI^k \bigg)
\end{equation}
\iffalse
(THE SELLERS ALL THE BUYERS IN $j$ HAVE IN COMMON! i.e. $j$ AND...)
\begin{equation}%\label{lambda}
    \Lambda = \displaystyle\bigcap_{i\in\mcI^j} \mcI_i,
\end{equation}
(THE COLLECTION OF BUYERS FROM EACH $i$ THAT ARE COMMON ACROSS ALL THE $i$'s SELLER
POOLS)
\begin{equation}%\label{llambda}
    \lambda = \bigcup_{i\in\mcI^j} \bigg(\bigcap_{k\in\mcI_i} \mcI^k \bigg)
\end{equation}
\fi
Define $\Delta = \Lambda \cup \lambda$.
Fixing all other bids $s_i^j \in \mcI$, and time $t>0\in\tau$, we have that,
\begin{equation}\label{union-eq}
    \displaystyle\sum_{j\in\Lambda} \theta_i^j = \sum_{i\in\lambda} \theta_i^j.
\end{equation}
}\\
\textbf{Proof:}
A local auction $j\in\mcI$, is determined by the collection of buyer bid
profiles, where buyer bid $s_i^j > 0 \Rightarrow j\in\mcI_i$. Using Proposition \ref{sellerstrategy} and (\ref{jtoi}), we have that, 
\begin{equation}\label{iff}
    i\in\mcI^j \Leftrightarrow p_i^j > p_{i^*}^j,
\end{equation}
where
(\ref{sellercoordinate}) defines $i^*$ as the losing buyer with the highest bid
price in auction $j$. By (\ref{buyerinversedemand}) $p_i^j \ge
p_{i^*}^j+\epsilon$, thus $p_i^j < p_{i^*}^j$ can only happen during a market
shift caused by the underlying dynamics.
Consider $k\in\mcI^j$ at time $t$ where, for example, some buyer(s) enter the auction, and
so (\ref{iff}) implies that
$\sum_{i\in\mcI^j} \g_i^j(a) > D^j$. Now, $p_i^j < p_{i^*}^j\Rightarrow k\ni\mcI^j$ and
$s_k^j>0$ will cause $k$ to initiate a shift. By Proposition \ref{buyerstrategy}, $k$ will set $s_k^j=0$, and begin to add sellers to its pool.
Suppose that at time $t$, $j$'s market is at equilibrium, i.e.
$\sum_{i\in\mcI^j} \g_i^j(a) = D^j$, and fixing all other bids, so 
no buyer $i\in\mcI^j$ rebids. Unless $k$ adds a seller with a higher reserve
price within $\vert\mcI^j\vert$ time steps, by (\ref{newdata}), $D^j=0$ and the
auction ends. Otherwise, at some time $t\in[t+1,\tau]$, we must have that
$\g_k^j \le D^j$, and $k$ rejoins auction $j$ or opts-out. Finally, overlooking market shifts and messaging
overhead, we have that,
$\forall \ i\in\mcI^j$, $\nexists \ s_i^j > 0$ where $i \ni \mcI^j$, and (\ref{jtoi})
holds.
\iffalse
Furthermore, we note that $\lambda \subset \mcI$ is a complete and disjoint set
of bid vectors with respect to auction $j$. That is, $\forall \ i \in \mcI^j,
s_i^k > 0 \in \lambda$ if and only if $s_i^k>0 \in\mcI$, and so $s_i \in \lambda
\equiv s_i \in \mcI$. (NEED TO ADD TO LEMMA AND PROVE?)
\fi

Now, the subset $\mcI^j \subset \mcI$
determines $j$'s reserve price $p_{i^*}^j$. We will assume the buyer submits a
coordinated, truthful bid. Now, $\mcI_i\subset \mcI$ 
determines the unit price $p_{i}$ in buyer $i$'s bid.
The reserve price (\ref{newprice}) of seller $j$ is determined at each
shift, and is
the lowest price that $j$ will accept to perform any allocation.
Let $p_*^j = f^j \circ \g_i^j(a) $ denote the reserve
price of auction $j$, noting that $s_i^j=0, \ \forall \ i \in
[s_i^j]_{i\ni\mcI^j}$, and let $p_i^*= f_i \circ \g_i^j(a)$ denote the bid price of buyer $i$, i.e. $p_i^k = p_i^*,
\ \forall \ k \in\mcI_i$. 
Using Proposition
\ref{sellerstrategy}, for each $i \in \mcI^j$, we have from (\ref{buyerinversedemand}), (\ref{sellerinversedemand}), that $p_i^* \ge p_*^k,
\ \forall \ k \in\mcI_i$.

\iffalse
Now, we have,
\begin{equation}\label{rho}
    \rho^j(p_*^j) \le \displaystyle\sum_{i\in\mcI^j} e_i(a(s_i^j)),
\end{equation}
from (\ref{datademand}), (\ref{buyerinversedemand}),
(\ref{sellerinversedemand}), and so $p_i^j \ge p_{*}^j \ge p_i^k, \ \forall \ i \in
[p_i^j]_{i\in\mcI^j}$ and $\forall \ k \in [p_i^k]_{k\in\mcI_i}$
\fi

The incentive of each seller $\in\Lambda$ is to sell all of its data at the
best possible price. In the simplest case,
consider a disjoint local market $j$, where $\forall \ i\in\mcI^j$, $s_i^k = 0,
\ \forall \ k\ne j \in \mcI_i \Rightarrow \Lambda = \lbrace j \rbrace$ and
$\lambda = \mcI^j$. 
Again using (\ref{buyerinversedemand}) and  (\ref{sellerinversedemand}), it is
clear that $\theta_i = \theta^j, \ \forall \ i \in \mcI^j$.
In all other cases, the sellers $\in\Lambda$ are competing to sell
their respective resources to buyers whose valuations are distributed across multiple auctions. 
%By (\ref{jtoi}), $j\in \mcI_i, \ \forall \ i\in \mcI^j$. 
The set $\lambda$ represents all of the buyers influencing auction $j$, both
directly and indirectly. 
The bid price of buyer $i\in\mcI^j$ is determined by,
\begin{equation}\label{maxbid}
    p_i^* = \max_{k\in\mcI_i}\big(f^k \circ \g_i(a)\big)= \max_{k\in\mcI_i}(p_*^k).
\end{equation}
$\Lambda$ is the set of sellers directly influencing the bids of buyers
in auction $j$. Now, the reserve price for auction $j$ is such that,
\begin{equation}\label{resprice}
    p_*^j \le \min_{i\in\mcI^j}(p_i^*) - \epsilon,
\end{equation}
from (\ref{newprice}). Now, by Proposition \ref{sellerstrategy}, in the absence
of external influences caused by multi-auction market dynamics, we have 
that $j$ maintains a local market equilibrium from time $t$ to $(t+1)$.
From (\ref{lambda}) and (\ref{llambda}), $\Delta$ is defined by a seller $j\in\mcI$, where each
user $k\in\Delta$ has some direct or indirect influence on $j$. 
We may identify $\Delta$ by its dominant seller, and we denote $\Delta^j = \Lambda^j
\cup \lambda^j$.

Consider the set $\lambda^j$. For some buyer $i\in\mcI^j$, and then for
some seller $k \in \mcI_i$, we have a buyer $l \in \mcI^k$. By (\ref{jtoi}), $i,l \in \mcI^k$, and so the reserve price $p_*^k \le \min(p_l^*,
p_i^*)$, and $k, j\in \mcI_i\Rightarrow p_i^* \ge \max(p_*^k, p_*^j)$.
Suppose that $l \ni \mcI^j\Leftrightarrow j \ni \mcI_l$, so
that $p_l^* < p_*^j$, and
the valuation of buyer $l$ does not impact auction $j$ and vice versa, i.e. $\theta_l^j = 0$. Since $l\in\mcI^k$, $p_l^* \ge p_*^k\Rightarrow
p_*^k < p_*^j$, and $i\in\mcI^j \Rightarrow p_i^* \ge p_*^j$. Therefore, we
have that the ordering implied by (\ref{lambda}) and (\ref{llambda}) hold,
where,
\begin{equation}\label{ordering}
    p_*^k \le p_l^* < p_*^j \le p_i^*,
\end{equation} 
for any buyer $l\in\lambda^j$ such that $l\ni \mcI^j$. Now, suppose $\exists \ l\in\mcI^k$ such that $l\in\mcI^j \Rightarrow p_l^* \ge
p_*^j$. In the case where $p_l^* > p_i^*$, we must have that 
$\exists \ q \in \mcI_l$ such that $p_*^q > p_*^k$, % \Rightarrow \theta_l^q > \theta_l^k$. 
which implies, again by (\ref{maxbid}), $q\ni\mcI_i \Leftrightarrow i
\ni\mcI^q \Rightarrow p_*^q >
p_i^*$, therefore $\theta_i^q = 0$, and the reserve price of auction $q$ does not effect the valuation of
buyer $i$, and as $p_*^k < p_*^j \le p_i^* < p_l^*$, we examine $\mcI^j$ using
(\ref{iff}).
Lastly, in the case where $p_i^* > p_l^*$, by the same reasoning, $\theta_l^g =
0$, for some $g\in\mcI_i$.
We have that for any $l\in\mcI^k$ such that $l\ni
\mcI^j$, $\theta_l^j =0$, and when $l\in \mcI^j$, then either $\theta_i^q =0$,
where $q\in\mcI_l$, or $\theta_l^g = 0$, where $g\in\mcI_i$, and as $p_*^k <
p_*^j \le p_l^* < p_i^*$, we examine $\mcI^k$ using (\ref{iff}),
a shift in $\mcI^k$ causes a shift in $\mcI_i$, so that $\exists \ g\in\mcI_i$
such that $p_*^g \ge p_*^j$. Thus, we
determine a direct influence as $l\in\mcI^k
\cap \Lambda^j$, such that $p_l^* > p_i^*$,
and an indirect influence as, for any $l\in\mcI^k
\setminus \Lambda^j$, where $p_l^* > p_i^*$ results in $i^*\in\mcI^j$ initiating a shift.

Now, consider the subset $\Lambda^j$, by
Proposition \ref{userunion}, a shift occurs in 2 cases. (1) If $i\in\mcI^j$
decreases its bid quantity so that $\sum_{i\in\mcI^j}
\g_i^j(a) < D^j$, and (2) if buyer $i^*$, defined in Proposition
\ref{sellerstrategy}, increases its valuation so that $p_{i^*}^j <
p_*^j$. First, let buyer $i\in\mcI^j$ be the buyer in auction $j$ with the
lowest bid price, the ``lowest clearing player",
and further suppose $p_i^* > p_*^j + \epsilon$. That is, $\exists \ q \in \mcI_i$ such
that $p_*^q > p_*^j$. Fixing all other bids, a decrease in $q$'s demand will
directly impact buyer $i$. If at the end of the bid iteration, we still have that $i$ is the
buyer with the lowest bid price, then (\ref{sellerinversedemand}) holds and $j$'s valuation does not change. Otherwise a new $i^*$ will be chosen upon
recomputing $\mcI^j$, as in Proposition \ref{buyerstrategy}, and the market
will attempt to regain equilibrium.
Clearly, if $i^*$ in case (1) or resulting from case (2) increases in valuation,
then $p_*^j$ will similarly increase, by (\ref{uservaluation}). Consider the 
seller $k^*\in\mcI_{i^*}$ at time $t$, and suppose that $p_*^{k^*} \ge p_*^j$, however, we have that $p_{i^*}^j <
p_*^j \Rightarrow i^* \ni \mcI^j \Rightarrow k^*\ni\Lambda^j\Rightarrow \mcI^{k^*} \ni
\lambda^j$. Now, consider a buyer $l^*\in\mcI^{k^*}$. We need only consider the
case where $\exists \ k \in\Lambda^j$ such that $l^*\in\mcI^k\subset \lambda^j$
where we determine the influence of $\Delta^{k^*}$ on $\Delta^j$ by (\ref{iff}). 

In each case we
have that (\ref{buyerinversedemand}) and (\ref{sellerinversedemand}) hold for
some fixed time $t$, and so, $\forall \ i \in\mcI^j$,
\begin{equation}\label{jdemand}
    \int_0^{\g_i^j(a)} f^j(z) \ dz 
    = \int_0^{\g_i^j(a)} f_i(z) \ dz,
\end{equation}
therefore $\theta_i = \theta^j, \ \forall \ i \in \mcI^j$.
Thus, any bid ouside of
our construction
has a zero valuation, with respect to buyers $\in\lambda$ and sellers
$\in\Lambda$, and therefore cannot cause shifts to occur except through a
shared buyer, e.g. some $l\in\mcI^k$. Thus, in all cases,
(\ref{buyerinversedemand}) and (\ref{sellerinversedemand}) hold. Fixing all
bids in any auction $q \ni \Lambda^j$,
we have, $\forall \ k\in\mcI_i$,
\begin{equation}\label{idemand}
    \displaystyle\int_0^{D^k} f^k(z) \ dz = \sum_{i\in\mcI^k}\int_0^{\g_i^k(a)}
f^k(z) \ dz,
\end{equation}
which holds $\forall \ k\in\mcI_i$, by (\ref{jtoi}) and Proposition
\ref{sellerstrategy}..
Finally, using (\ref{jdemand}), (\ref{idemand}), $\forall \ i\in\mcI^j, \forall \ k\in\mcI_i,\forall \ l\in\mcI^k$,
\begin{align}\label{tieqtk}
    \int_0^{\g_i^k(a)} f_i(z) \ dz &= \int_0^{\g_i^k(a)} f^k(z) \ dz,
\end{align}
and
\begin{align}\label{tkeqtl}
    \int_0^{\g_l^k(a)} f^k(z) \ dz &= \int_0^{\g_l^k(a)} f_l(z) \ dz.
\end{align}
Thus, with a slight abuse of notation for clarity,
\begin{equation}\label{funion-eq}
    \sum_{\lambda}\int_0^{\g(a)} f^\Lambda(z) \ dz =
\sum_{\Lambda}\int_0^{\g(a)} f_\lambda(z) \ dz,
\end{equation}
where the result follows by construction, and the continuity of $\theta'$.
$\qed$

For completeness, in the case where the ISP $\kappa$ 
does not adhere to the market dynamics, so $p^\kappa > p^j +
\epsilon, \ \forall \ j \in\mcI$, then we may absorb the overage (difference) as part of the
bid fee.
(NEED TO DO BETTER WITH TIME?)

\subsubsection{Mechanism Realization}

\iffalse
(DO I WANT UPDATES? MORE OR LESS FAIR? NEED EITHER UPDATE QUANTITY OR BOTH,
IMPLICATIONS?)
We assume that sellers update their bids with the ISP, which is modeled as a
``buyer" $\kappa$. 
\fi
A buyer entering the market
at $t=0$ is assumed to have an initial nonzero bid price, which we may assume
(SAY BETTER! ALSO DO I REALLY NEED THE I.I.D?) is initialized as 
an independently and identically distributed (i.i.d.) random variable $p_i^j=X$ with
probability $\mathcal{P}$,
$$
    \mathcal{P}[\epsilon\le X \le \kappa] =
\displaystyle\int_\epsilon^{p^\kappa} \mathfrak{f}(x) \
ds,
$$
where $p^\kappa$ is the overage charge of the ISP, and $\mathfrak{f}$ the probability
density function of $X$.
%may represent by some homogenous function of degree one (EXPAND?). 


Consider a user seeking to prevent
data overage charges by purchasing data from a subset of other network users.
The sellers' auction will function as follows: at each bid iteration all buyers
submit bids, and the winning bid is the buyer $i$ that has the highest price
$p_i^j$. The seller allocates
data to this winner, at which point all other buyers are able to bid again, and
the winner leaves the auction (with the exception where multiple bidders bid
the same price, where (\ref{dataallocation}) determines they will not fully
satisfy their demand, and so we will assume they remain in the auction). The auction progresses as such until all the
sellers' data has been allocated. 
% SELLER ALGORITHM
\begin{center}
\begin{algorithm}[H]
\caption{(Seller progressive allocation)}
\begin{algorithmic}[1]
\State $p^{j(0)} \gets \epsilon$, $s^{j(0)} \gets (p^j, D^j)$, $\bar\mcI =
\emptyset$, compute
$\mcI^{j(0)}$
\State Update $s^j$ 
\While{$D^j(t) > 0$}
\State $\bar{i} \gets \displaystyle\max_{i\in I^j}\sum_{i\in I^j} p_i^j$ 
\State $D^{j(t+1)} \gets D^{j(t)} - \g_{\bar{i}}^{j(t)}(a)$
%\State $p^j \gets \theta_{i^*}'(d_{i^*}^j)\circ e_i$
\State $p^j \gets p_{i^*}^j+\epsilon$ and $d^j \gets D^{j(t+1)}$
\State $s^{j(t+1)} \gets (d^j, p^j)$
\State Update $s^j$
\State $\bar\mcI \gets \bar\mcI \cup \bar{i}$
\For{$k \in \bar\mcI$}
\If{$p_k^j < p_{i*}^j$}
\State $D^{j(t+1)} = d_k^{j}$
\State $\bar\mcI \gets \bar\mcI \setminus \lbrace k \rbrace$
\EndIf
\EndFor
\State Compute $\mcI^{j(t)}$
\State $\mcI^{j(t+1)} = \mcI^{j(t)}\setminus \bar\mcI$
\State $t \gets t+1$
\EndWhile
\end{algorithmic}
\end{algorithm}
\end{center}
Each time step, $s^j$ is updated it is shared with all
participating buyers. At this point buyers have the opportunity to bid again,
where a buyer that does not bid again is assumed to hold the same bid, since a
buyer dropping out of the auction will set their bid to $s_i^j=(0,0)$.

% SELLER ALGORITHM
\begin{center}
\begin{algorithm}[H]
\caption{(Buyer response)}
\begin{algorithmic}[1]
\State $p_{i(0)} \gets \epsilon$, $s_{i(0)} \gets (p_i, D_i)$, $D_t \gets D_i$, compute
$\mcI_{i(0)}$
\State Update $s_i$ 
\While{$D_i(t) > 0$}
\State $D_{i(t+1)}^j \gets \sum_{j\in\mcI_i}\g_i^{j(t)}(a)$
\If{$D_{i(t+1)}^j < D_t$}
    \State Compute $\mcI_{i(t)}$
    \State $p_i \gets \theta_i(\g_i(a))$
\EndIf
\State $s_{i(t+1)} \gets (\g_i(a), p_i)$
\State Update $s_i$
\State $D_{i(t+1)}^j \gets D_{i(t)}^j$
\State $t \gets t+1$
\EndWhile
\end{algorithmic}
\end{algorithm}
\end{center}
Finally, we give a simple example of convergence to a local market equilibrium,
where the buyers are assumed to respond with their truthful,
$\epsilon$-best replies.
\begin{center}
\begin{tabular}{c|c|c}
Name & Bid total & Unit price\\
\hline
A & 50 & 1\\ 
B & 40 & 1.2\\
C & 26 & 1.5\\
D & 20 & 2\\
E & 14 & 2.2
\end{tabular}
\end{center}
Let $s^{(1)} = [(65,\epsilon)]_{i\in\mcI}$ and
$s^{(2)}=[(85,\epsilon)]_{i\in\mcI}$. The buyer bids are as follows: 
\begin{align*}
    s_A &= [(0,0), (50,1)], \\
    s_B &= [(0,0), (40,1.2)], \\
    s_C &= [(0,0),(26,1.5)], \\
    s_D &= [(0,0),(20,2)], \\
    s_E &= [(0,0), (14,2.2)]. 
\end{align*}
Then at $t=1$, we have 
bid vector $s^{(2)}=[(0,p^{(2)}), (20,p^{(2)}), (26,p^{(2)}),\\ (20,p^{(2)}),
(14,p^{(2)})]$, and so  $(D^{(2)},p^{(2)}) = (85, 1+\epsilon)$, The buyer response is,
\begin{align*}
    s_A &= [(50,1), (0,0)], \\
    s_B &= [(40,1.2), (0,0)], \\
    s_C &= [(0,0),(26,p^{(2)})], \\
    s_D &= [(0,0),(20,p^{(2)})], \\
    s_E &= [(0,0),(14,p^{(2)})].
\end{align*}
At $t=2$, $(D^{(1)},p^{(1)}) = (65,1+\epsilon)$, with
bid vector $s^{(1)}=[(25,p^{(1)}),\\ (40,p^{(1)}), (0,0), (0,0),
(0,0)]$. $(D^{(2)},p^{(2)}) = (25, 1+\epsilon)$. Then,
\begin{align*}
    s_A &= [(25,p^{(1)}), (25,p^{(2)})], \\
    s_B &= [(40,p^{(1)}), (0,0)], \\
\end{align*}
where we have removed bids to indicate winner(s) with a tentative allocation.
At $t=3$, $(D^{(1)},p^{(1)}) = (50,1+\epsilon)$, with
bid vector $s^{(1)}=[(25,p^{(1)}), (40,p^{(1)}), (0,0), (0,0),
(0,0)]$. $(D^{(2)},p^{(2)}) = (0, 1+\epsilon)$ and $s^{(2)}=[(25,p^{(1)}),
(0,0), (26,p^{(2)}), (20,p^{(2)}),\\(14,p^{(2)})]$. Then,
\begin{align*}
    s_A &= [(25,p^{(1)}), (0,0))].
\end{align*}
At $t=4$ the auction ends.\\
\textbf{Remark:} In the case where market resources do not satisfy (\ref{bidcap}), however as
this constraint is not restricted in time, we reason that in the case of
insufficient data in the market buyers may wait for additional sellers or
purchase from the ISP, $\kappa$, as a monopoly sale. Similarly, in
the case of insufficient demand, where we may assume that data is held at time
$t=0$ by $\kappa$ at bid price $\epsilon$.

% VCG ANALYSIS
\section{PSP Analysis}\label{analysis}


\subsection{Equilibrium}

We intend to show evidence shared network optima (a
global optimum). 
A buyer $i\in\mcI$ will have incentive to change its bid
quantity if it increases its opt-out value $\g_i$, and therefore its utility (\ref{buyerutility}). 
We will show that, without loss of utility, buyer $i$ may  
use a ``consistent" bid strategy within its seller pool, i.e. $d_i^j = d_i^k, \
\forall \ j,k \in \mcI_i$, and as such,
Proposition \ref{buyerstrategy} supports an optimal strategy with respect to
(\ref{buyerutility}). 
Our result shows that a buyer may select $\mcI_i$ in order to maximize its
utility while maintaining a coordinated bid strategy. 
Reasonably, if $j^*< I$, a buyer may increase the size of its seller pool
$\mcI_i$, thereby lowering its coordinated bid
quantity while obtaining the same (potential) allocation $a_i$. 
As buyer $i$ submits identical bids to multiple auctions, the bid price must be
as high as the highest reserve price $p_i^j \in \mcI_i$.
Buyer $i$'s bid then has identical bid price $p_i^j \forall \ j \in\mcI_i$. 
We further note that $i$ optimal strategy does not require reducing its bid price to a
minimum in each auction, where
the bid quantity $\g_i^j(a)$ is still fufilled. The pricing rule of the PSP
auction dictates that a buyer $i$ will pay the cost of excluding other players from
the auction, and as $i$'s bid price reflects its valuation of it data
requirement $D_i$ across all local markets, we have identical bid prices in
each auction where $s_i^j>0$. Obviously, if $j\ni\mcI_i$, then $\theta_i^j = 0$.

% BUYER COORDINATION
{
\lemma{(Opt-out buyer coordination)}\label{coordinationlemma} 
Let $i\in\mcI$ be a opt-out buyer and fix all sellers' profiles $s^j$.
For any profile $S_i = (D_i, P_i)$, let $a_i \equiv \sum_j a_i^j(s)$ be a
tentative data
allocation. For any fixed $S_{-i}$, a better reply for $i$ in any auction is $x_i =
\g_i \circ (z_i,y_i)$, where $\forall \ j \in \mcI_i$,
\begin{align*}
    z_i^j &= \g_i^{j}(a), \\
    y_i^j &= \theta_i'(z_i^j).
\end{align*}
Furthermore,
\begin{equation}\label{allocationcoordination}
    a_i^j(z_i,y_i) = z_i^{j},
\end{equation}
and
\begin{equation}\label{costcoordination}
    c_i^j(z_i,y_i) = y_i^{j},
\end{equation}
where $i$'s strategy is as in Proposition \ref{buyerstrategy}.
}\\
\textbf{Proof:}
As $s_{-i}$ is fixed, we omit it, in addition, we will use $u\equiv u_i \equiv u_i(s_i) \equiv
u_i(s_i;s_{-i})$. In full notation, we intend to show
$$
    u_i((d_i,p_i);s) \le u_i((z_i,y_i);s_{-i}).
$$
Now, if there exists a seller who can fully satisfy $i$'s demand,
then $\vert\mcI_i\vert = 1$, and the case is trivial as no
coordination is necessary for a single bid. %(SPECIAL CASE OF MONOPOLY? THINK!)\\
Otherwise, buyer $i$'s demand can only be satisfied by purchasing data from
multiple sellers.
We will show that $i$ may increase $\vert\mcI_i\vert$, and so decreasing
$d_i^j, \ \forall \ j\in\mcI_i$, without decreasing $\sum_{j\in\mcI_i}u_i^j$.
Buyer $i$ maintains ordered set $\mcI_i$ where the sellers with the
largest bid quantities are considered first; the index of seller $j^*$ defines
a minimal subset $\mcI_i$, satisfying (\ref{buyercoordinate}). By construction, 
$d_i^{j^*}$ is the minimum quantity bid offered by any $j\in \mcI_i$.
Thus by (\ref{buyercoordinate}) and (\ref{opt-eq}), $\forall \ j\in \mcI_i$,
$k\ni\mcI_i$, $\g_i^k(a) \le z_i^j = \g_i^{j}(a)$,
and so, using (\ref{union-eq}), 
\begin{equation}\label{minimaleq}
    \g_i^{j}(a)  \le \bigg\lbrack D^{j} - \sum_{k\in \mcI^j : p_k^{j}> y_{i}^{j}} d_k^{j}\bigg\rbrack^+.
\end{equation}
Now, the buyer valuation function (\ref{buyervaluation}), guarantees
that $\forall \ j\in\mcI_i$, $y_i^j \ge p_{i^*}^j$, where $p_{i^*}^j$ is the reserve price of seller $j$, defined in Proposision
\ref{sellerstrategy}, and is by definition the minimum price for a buyer bid to
be accepted. 
As $\bar{D}_i^j$ is non-decreasing, $\forall \ j\in \mcI_i$,
$k\ni\mcI_i$,
$$
    D_i^j(y_i^j) \ge D_i^j(p_i^{j})\ge D_i^j(p_i^{k}).
$$
\iffalse
Furthermore, suppose there exists buyer $k\in \mcI^j$, such that
$\g_k^{j}(a) \ge \g_i^{j}(a)$ and $D^j - \sum_{k\in\mcI^j,k\ne i}d_k^j < z_i^{j}$, resulting in a
partial allocation. Bid $s_k^j \in s_{-i}$, and so is considered in buyer $i$'s strategy. 
As buyer $i$ is allowed to choose subset $\mcI_i$, and $\mcI_i$ is a minimal
set, (\ref{buyercoordinate}) states that $n$ is such that $\g_i^{j}(a)
\ge \g_k^{j}(a)$ for any $k\in\mcI$, therefore such a buyer $k$ cannot exist.
We have, $\forall \ j\in \mcI_i$, $k\ni\mcI_i$,
$$
    {\theta_i}'(\g_i^{k}(a)) \ge {\theta_i}'(\g_i^{j}(a)) \ge y_i^j.
$$
Now, suppose that $p_k^j = p_i^j$, however $d_k^j > d_i^j$...
\fi
Thus (\ref{minimaleq}) holds and so, by (\ref{dataallocation}),
\begin{align*}
     a_i^j(z_i,p_i) &=\min_{i\in\mcI^j}\bigg(z_i^j, \bigg\lbrack D^{j} - \sum_{p_k^{j}> y_i^{j}}
d_k^{j}\bigg\rbrack^+\bigg) \\
    &= z_i^{j}= \g_i^{j}(a)
\end{align*}
where the last equality is by definition, and so (\ref{allocationcoordination}) is proven.
From (\ref{datacomposed}), $\bar{D}_i^j(y, s_{-i}) =
0 \ \forall \ y < p_{i^*}^j$, and $\bar{D}_i^j(y, s_{-i}) =0 \le \epsilon
\Rightarrow \g_i^j(a) = 0 \Rightarrow z_i^k = 0, \ \forall \ k \ni \mcI_i$, and therefore,
\begin{align*}
    \displaystyle\sum_{j\in\mcI_i} c_i^j(z_i,y_i) =\sum_{j\in\mcI_i}
c_i^j(z_i,p_i),
\end{align*}
thus (\ref{costcoordination}) simply shows that changing the price $p^j_i$ to $y^j_i$ does not exclude any
additional buyers, as the bid $p^j_i$ was already above the reserve price of any
seller $j \in \mcI_i$.
We proceed to show that $x_i$ does not result in a loss of utility for
buyer $i$, that is,
$$
    u_i \le u_i(z_i,y_i).
$$
From (\ref{allocationcoordination}), we have $a_i^{j}(z_i,y_i) = z_i^{j} = \g_i^j(a(z_i,y_i))$, 
and so,
$$
    \theta_i\circ \g_i^j(a(z_i,y_i)) = \theta_i\circ \g_i^j(a),
$$ 
which holds $\forall \ j\in\mcI_i$.
Therefore, by the definition of utility (\ref{buyerutility}),
and the buyers' valuation (\ref{buyervaluation}), 
\begin{align*}
    &\theta_i\circ \g_i(a(z_i,y_i)) - \theta_i(a)\circ \g_i(a) \\
    &= u_i(z_i,y_i) - u_i =  \displaystyle\sum_{j\in\mcI_i} c_i^j -c_i^{j}(z_i,y_i)\\
    &= \sum_{j\in\mcI_i}\int_{a_i^j(z_i,p_i)}^{a_i^j} f_i(d_i^j - x) \ dx.
\end{align*}
Then, as $a_i(z_i,p_i) \le z_i^j \le a_i^j $, and noting that
$z_i^j>0\Rightarrow \theta_i\ge 0\Rightarrow f_i\ge 0$, we have $u_i(z_i,y_i) - u_i \ge 0$, $\forall \ j\in\mcI_i$.
$\qed$
%Finally, we note that $z_i^j$ does not increase the aggragate demand of the buyer.

\subsubsection{Incentive Compatibility}

The property of truthfullness is an essential component of equilibrium in
second-price markets. The strategies described in this paper have removed the
necessity for a user to determine its own valuation function, we intend to show that the market dynamics resulting from the
construction of the user strategy space results in truthful bids that are optimal for all users,
i.e. bid prices are to the marginal value as determined by market dynamics. 
To achieve incentive compatibility, we find that the opt-out buyer must choose
this subset so that its overall marginal value is greater than its market price.
We have so far only made the \emph{assumption} of truthful bids throughout our analysis. As was shown in Lemma \ref{userunion}, a buyer only
has incentive to change its bid as a result of a market shift or partial
allocation. In a truthful reply, the term $\epsilon/\theta_i'(0)$
ensures that a new bid price differs from the last bid price by at least
$\epsilon$, thereby ensuring that a buyer does not change its bid without
correcting the effects of unstable shifts.
We argue that if truthfulness holds \emph{locally} for both buyers and sellers, i.e. $p_i ={\theta_i}' \
\forall \ j \in \mcI_i$ and $p^j = {\theta^j}' \ \forall \ i \in\mcI^j$, then
there exists a market equilibrium extending over a subset of connected
local markets. 
For a buyer $i$, define the set of possible $\epsilon$-best replies,
\begin{equation}\label{e-bid}
    S^\epsilon(s) = \lbrace s_i\in S_i(s_{-i}) : u(s_i;s_{-i}) \ge
u_i(s_i';s_{-i}) -\epsilon, \ \forall \ s_i'\in S_i(s_{-i})\rbrace,
\end{equation}
and the set of \emph{truthful} bids, 
\begin{equation}\label{t-bid}
    T_i = \lbrace s_i\in S_i(s_i) : z=\displaystyle\sum_{j\in\mcI_i} \g_i^j(a)
\wedge p_i = \theta_i'(z)\rbrace,
\end{equation}
where $\wedge$ denotes the logical ``and" operator. We note that the ``strategic" set $T_i$
is restricted by Proposition \ref{buyerstrategy}.
We have the following Proposition, 

{
\proposition{(Incentive compatibility across local auctions)}\label{incentive}
Let $\Lambda$, $\lambda$ be defined as in Lemma (\ref{userunion}), and fix time
$t>0 \in \tau$, and fix $s^j, \ \forall \ j\in\Lambda$, and for some
buyer $i\in \mcI^j$, let $s_l$ also be fixed $\forall \ l\ni i \in \lambda$. Define,
\begin{align}
\begin{split}\label{eta}
    \chi_i &= \bigg\lbrace x\in [0,D_i] : 
 {\theta_i}'(x) > \max_{j\in\Lambda}P_i^j(x)\bigg\rbrace, 
\end{split}
\end{align}
and $z = \sup(\chi_i - \epsilon / \theta_i'(0))^+$, and for each $j \in
\Lambda$, 
$$
    v_i^j = \g_i^{j}(z),
$$
and 
$$
    w_i^j = \theta_i'(z).% \circ e = \theta_i'(v_i^j).
$$
Then a (coordinated) $\epsilon$-best reply for the opt-out buyer is $t_i =
(v_i,w_i) \in T_i\cap S_i^\epsilon(s_{-i})$, i.e., $\forall \ s_i, u_i(t_i;s_{-i}) + \epsilon \ge u_i(s_i;
s_{-i})$.
With reserve prices $p^j >0$, there exists a ``truthful" strategy game embeddeded
$\in\Delta$. Therefore, a fixed point $\in \Delta$ is a fixed point in
the multi-auction game. 
}\\
\textbf{Proof:}
We claim that $t_i$ is an $\epsilon$-best reply for buyer $i$. That is,
$$
    u_i(t_i;s_{-i}) + \epsilon \ge u_i(s_i;s_{-i}).
$$
As a result of auction initialization, a seller $j$'s valuation defines its
reserve price to be determined
by a buyer $i \ni \lambda$, even if this price is zero, we have that $p^j =
\epsilon \ge 0 \ \forall \ j \in\Lambda$.
Let $z = \sup(\chi_i^j)$, and again let $p_*^j = f^j \circ \g_i^j(a) $ denote the reserve
price of auction $j$, and $p_i^*= f_i \circ \g_i^j(a)$ denote the (coordinated) bid price of buyer $i$. 
We have that $i\in\mcI^j$, 
and (\ref{buyerinversedemand}) defines $\theta_i'(z)$ as being
max of the reserve prices $p_*^j,\ \forall \ j\in\mcI_i$, therefore
(\ref{eta}) is such that,
$$
    \theta_i'(z) > \max_{j\in\Lambda}P_i^j(v_i^j),
$$ 
which implies, as $\theta_i'$ is non-increasing and $P_i^j \ge 0$,
we have $\forall \ j \in \mcI_i$, 
\begin{align*}
    w_i^j &> P_i^j(v_i^j) \\
    \Rightarrow v_i^j &\le D_i^j(w_i^j) = D^j - \rho^j(w_i^j).
\end{align*}
And so, by (\ref{dataallocation}),
\begin{align*}
    a_i^j(t_i;s_{-i}) &= v_i^j \\
    \Rightarrow \displaystyle\sum_{j\in\Lambda} a_i^j(t_i;s_{-i}) &= z.
\end{align*}
Therefore, $\forall \ j\in\Lambda$ and $\forall \ i \in \lambda$ such that
(\ref{tieqtk}) and (\ref{tkeqtl}) hold,
\begin{align*}
    \int_0^{v_i^j} \bar{P}_i(x) \ dx 
    = \sum_{j\in\Lambda}\int_0^{\g_i^j(z)} P_i^j(x) \ dx.
\end{align*}
It follows that,
$$
    u_i(t_i;s_{-i}) = \int_0^{z} \theta_i'(x) \ dx -  \g_i \ \circ \int_0^{z} \bar{P}_i(x) \ dx.
$$
Suppose $\exists \ s_i = (d_i, p_i)$ such that $u_i^j(s_i;s_{-i}) > u_i^j(t_i;
s_{-i}) + \epsilon$. Propositions
\ref{coordinationlemma} and
\ref{buyerstrategy}, define the coordinated bid, $\nu_i=(\zeta_i, p_i)$,
% = (\g_i\circ a_i(s), \ \theta_i'(z)) = (z_i, c_i),$
using (\ref{tieqtk}) and (\ref{tkeqtl}),
for each $j\in \Lambda$, $\g_i^j(a_i^j(\nu_i; s_{-i})) = \zeta_i^j$,
then clearly $u_i(\nu_i, s_{-i}) \ge u_i(s_i, s_{-i}) \Rightarrow u_i(t_i;s_{-i}) -
u_i(s_i;s_{-i}) > \epsilon$. Denoting $\zeta_i^j$ (fixed) as $\zeta$, 
$$
    \int_z^{\zeta} {\theta_i}'(x) \ dx-\int_z^{\zeta} \bar{P}_i(x) \ dx > \epsilon.
$$
For concave valuation functions, the first-order derivative of $\theta$ at point
$0$ gives the maximum slope of the valuation function, and so the factor $\epsilon
/ \theta'(0)$ guarantees that new bids will differ by at least
$\epsilon$, and as such, buyer $i$ will remain in
any local auction with reserve price determined by (\ref{newprice}). We therefore
verify that,
$$
    \displaystyle\int_{z}^{z +\epsilon / \theta_i'(0)} \theta_i'(x) \
dx \le \epsilon,
$$
and as $P_i^j \ge 0$, we have that, from the construction of $\zeta$,
$$
    \displaystyle\int_{z+\epsilon / \theta_i'(0)}^\zeta \theta_i'(x) \ dx -
\int_{z+\epsilon / \theta_i'(0)}^\zeta \bar{P}_i(x) \ dx > 0.
$$
If $\zeta > z + \epsilon / \theta_i'(0)$, then for some $\delta >0$,
$\theta_i(z+\epsilon / \theta_i'(0)+\delta) > P_i^j(z+\epsilon /
\theta_i'(0)+\delta)$, contradicting (\ref{eta}).
Now, if $\zeta \le z$, then $\theta_i'(z+\epsilon / \theta_i'(0)) < P_i^j(z+\epsilon /
\theta_i'(0))$, also a contradiction of (\ref{eta}), and so buyer $s_i$ cannot
exist.
Finally, as we may consider $\Delta \subset \mcI$ to be a
multi-auction game, our user strategies form a ``truthful" local game 
with strategy space restricted to $\epsilon$-best replies from buyers $\in
\lambda$. Therefore we have that a fixed point in the ``truthful" game is a fixed point for the auction. 
$\qed$\\

The strategy space is comprised of a collection of bid, or ``strategy", vectors that
together, may be represented as a collection of potential functions, where change in buyer $i$'s
utility, resulting from a change in strategy, equals the change in
the local market objective of each seller $j\in\mcI_i$. These local objectives are known as potential functions, and are
formulated by mapping the incentives of all users in a local auction to a
single function. The goal of our analysis is to therefore construct a global potential function that encompasses
all local markets. Then, we may determine a Nash equilibrium by finding a local
optima of the potential function. Additionally, as the potential function also
iterates, it may be used in an analysis of convergence. The
convergence of a Nash equilibrium results from the progression of
$\epsilon$-best replies, where each subsequent bid is a unilateral
improvement, provided that $t_i$ is continuous in opponent profiles.
From the original proof by \cite{lazar}, we observe that the collection of
unconstrained truthful bids may be a subset
of the collection of $\epsilon$-best replies, i.e. $T_i\subset S_i^\epsilon$.         
%An essential component of determining the existence of a Nash equilibrium is 
For this work, it suffices to show the continuity of the set of truthful
$\epsilon$-best replies in the set of opponent bid profiles.
In order to address continuity in a global sense, we must demonstrate
continuity in the construction of our model.
Thus, we extend our analyis to be all-inclusive, %The game-theoritical basis of our argument is complemented by an abstract-theoretical analysis.
and determine the
existence and ``uniqueness" of a global market objective by rigor of mathematical construction. Thus, we begin with the definition of
correspondence,
{
\definition{(Correspondence)}
A correspondence is mathematically defined as an ordered triple $(X,Y,R)$, where $R$ is a relation from $X$ to
$Y$, i.e. any subset of the Cartesian product $X\times Y$.
}

In an economic model, a correspondence $(S_i,S_{-i},R)$ defines a map from $S_i$
to the power set $S_{-i}$, where $R$ is a binary relation, i.e. $R \subset
S_i\times S_{-i}$. The classic
example of a correspondence in our model is the buyers' best response
$B_i^\epsilon$, where, for the multi-auction,
$S_i$ and $S_{-i}$ are built by repeatedly using the
cartesian product over bid profiles. The power set 
$S_{-i} =\Pi_j \big(\Pi_{k\ne i} S_i^j)$ arises naturally from the
product of ordered sets. 
The best response is a reaction correspondence
defined by the mixed-strategy game. Denoting  $B_i^\epsilon = T_i\cap
S_i^\epsilon$, is the set of truthful $\epsilon$-best replies in opponent bid
profiles $S_{-i}$. \\
\textbf{Remark:} 
The ease by which the game is constructed is a consequence of the the cartesian
product on a 2-dimensional message space. \\
A natural induced topology of this space is the product
topology, e.g. the canonical map $S_i \rightarrow \Pi_{j\in\mcI} S_i$.

Motivated by the symmetric nature of supply and demand, we determine the
game-theoritical argument is complemented by an abstract-theoretical analysis.
In fact, we may even be philosophically motivated, as the truth value of a bid
is determined only by how it relates to markets, and whether it provides an
accurate correspondence. Using a set-theoretical approach to address the sellers
bids, we derive our result from the symmetry of supply and demand,
(\ref{buyerinversedemand}) and (\ref{sellerinversedemand}), Proposition
\ref{incentive}, (\ref{newprice}), Lemma \ref{userunion} and Lemma
\ref{buyercoordinate}, and include the following corollary,
{
\corollary{Data-bid correspondence (seller cooperation)}
Let $\Delta$ be defined as in Lemma (\ref{userunion}).
For a fixed time $t\in (0,\tau]$, seller bid $s^j$ is consistent with a truthful
$\epsilon$-best reply.
}\\
\textbf{Proof:}
We claim there exists a binary equality relation $i\thicksim j$ that naturally evolves in the
strategy space. For a seller $j$, let $y=\theta_i'(\g_i^j(a))$ for a buyer $i$.
We use the the axiom of set equality,
based on first-order logic with equality, which states that,  
$\forall \ i\in\mcI, \ \forall \ j\in\mcI, (i\in \mcI^j \Leftrightarrow j\in\mcI_i)
\Rightarrow i \thicksim j$, and is a logical consequence of (\ref{jtoi}).
Then, for any allocation $a$, we may define the relation, $i\thicksim
j$,
\begin{equation}\label{eqrel}
        \big(\bar{D}_i^j(y), {\theta^j}'(\g_i^j(a))\big) =
        \big(\g_i^j(a),y)\big).
\end{equation}
Formally, the axiom states that a set is \emph{uniquely} determined by its
members. It follows that $\thicksim$ defines equality of bids using a static
analysis with respect to equilibrium, where all users who are not changing thier
bids are considered equal.\\
\textbf{Remark:} Equality is both an equivalence relation and a partial order,
and therefore is reflexive, transitive, symmetric and antisymmetric. \\
Now, we may define the mapping $s \mapsto [s]$,
\begin{equation}\label{indeqrel}
         1_\vartheta \equiv \theta_i'(z) - {\theta^j}'(z) > \epsilon,
\end{equation}o
noting that equality in the bid quantity is implicity satisfied and $z =
\bar{D}_i^j(y)\ge 0$. We have that $\vartheta$ is a price relation for a
buyer-seller pair. Without loss of generality, let $S = \Pi_{j\in\mcI} \big(
\Pi_{i\in\mcI} S_i^j$. The indicator function is the canonical mapping,
$1_\vartheta : S \rightarrow \lbrace{0,1\rbrace}$. Then, as the product
topology is preserved, the set of all indicator
functions on $S$ naturally forms the power set $\mathcal{P}(S) = S_i\times
S_{-i}$. Additionally, the set of all equivalence classes defines the quotient space, $S /
\thicksim \ \equiv \big\lbrace [k] : k\in\mcI \big\rbrace$, forming a partition
$P = \big\lbrace [s] : s\in S\big\rbrace$ of $S$. 


{
\proposition{(Continuity of $\epsilon$-best reply on $\Delta$)}
Let $\Delta$ be defined as in Lemma (\ref{userunion}). For any buyer
$i\in\lambda^j$, the collection of bids $B_i$ is continuous in $S_{-i}$
}\\
\textbf{Proof:}
Define $\g_i \circ \overline{P} = \max_{i\in\mcI^j} \theta_i'(0)$, and
$\bar{P}_i(z, s_{i}) = \underline{P} = \epsilon -\varrho$, where $\epsilon$ is
the bid fee, and $\varrho$ is $i$'s liability estimate for auction $j\in\mcI$. 
We observe that $\g_i \circ B_i^\epsilon$ is simply $B_i^\epsilon$ restricted to seller pool
$\mcI_i$, i.e. $\g_i \circ B_i^\epsilon \equiv B_i^\epsilon\vert_{\mcI_i}$ . Thus,
we have $\g_i \circ T_i = ([0,D^k]_{k\in\mcI^j}\times [0,\g_i \circ
\overline{P}]^{\vert \mcI^j\vert})$
is a product of closed subsets of compact sets. Now, we have that a closed
subset of a compact set is compact and the resulting product topology gives
Tychonoff's theorem. every product of a
compact space is compact, we have $\g_i \circ B_i^\epsilon$
is compact subset of $B_i^\epsilon$.
 Now, letting $\overline{P} = \max_{i\in\lambda^j} \theta_i'(0)$, and we have by
definition of $\Delta$ and the product, 
\begin{align*}
    \g_i \circ& S_i(s_{-i}) \equiv g_i\vert_{\Lambda^j} : S_i \mapsto S_i \\
    &\Rightarrow\bigg(\bigcup_{i\in\mcI^j} [0,D^k]_{k\in\mcI_i},
[0,\overline{P}]\bigg)
    = \bigcup_{i\in\mcI^j}\bigg([0,D^k]_{k\in\mcI_i} \times
[0,\overline{P}]\bigg) \\
    &=  ([0,D^k]_{k\in\Lambda^j}, [0,\overline{P}]) \in \Lambda^j
\times \lambda^j \subset T.
\end{align*}
The result follows from the fact that $t_i$ is continuous in $s_i$, as was
proven in \cite{semret}, and as a finite union of compact sets is a compact set.
$\qed$
on any subset $\lbrace
s_{-i}\in S_i : \ \forall \ z > 0, \overline{P} \ge P_i(z,s_{-i}) \ge
\underline{P} \rbrace$, where $0<\underline{P}\le \overline{P} < \infty$
(HERE) The dimension of a linear space is defined as the maximal number of linearly
independent vectors or, equivalently, as the minimal number of vectors that span
the space

%We have proven that buyers will submit bids according to their marginal
%valuations. Now, in the interest of completeness (BAD SENTENCE), 
We have that all bids represent $\epsilon$-best replies, and, as was proven in
\cite{lazar}, the sellers' positive reserve price implies that bids are
truthful. Finally, by properties determined by the construction of a mixed strategy
symmetric game with a 2-dimensional message space, we may now restrict our
analysis to the set of continuous, truthful, $\epsilon$-best replies, $B^\epsilon$.

{
\corollary{Hemicontinuity of $\Delta$}
}

The data-sharing market consists of inter-dependent sets of these
multi-auction games around possible fixed points.  Clearly, the union of all possible
sets $\bigcup_{j\in\mcI} \Delta^j$ covers $\mcI$. We claim that the shared buyers
between the different subsets $\Delta$ form a sufficiently connected set that
the heirarchy described in Proposition \ref{userunion} holds. Then,
there can only be a single primary fixed point, where the sellers' reserve
price is an equilibrium price in the global market. 
We first address the analytical approach, and demonstrate properties of
$\Delta$ as a finite-dimensional linear topological space. We have that the
reserve price of the sellers, and the bid price of the buyers is constant
within an interval of length 2$\epsilon$. We have that 
(HERE) We have the following
Corollary, (MIGHT NEED TO REDEFINE.. NOT CLEAR IS A SEQUENCE, SHOULD BE
SEQUENCE OF PRICES INSTEAD OF USERS?) 
{
\corollary{(Primary fixed point)}
Let the set of shared buyers be denoted as,
$\underline{\lambda} = \bigcap_{j\in\mcI} \lambda^j$, and the set of all
sellers as, $\overline{\Lambda} = \bigcup_{j\in\mcI}\Lambda^j$. If
$\overline{\Lambda}$ is not a partition, i.e. $\nexists \ j,k
\in\overline{\Lambda}$ such that $\Lambda^j \cap \Lambda^k = \emptyset$, then,
for a fixed time $t$,
$\exists \ j \in\overline{\Lambda}$ such that $p_*^j \ge p_*^k, \ \forall \
k\ne j\in\overline{\Lambda}$. 
}\\
(CAN PROBABLY USE ALL BUYERS HERE... BECAUSE OF INF)
\textbf{Proof:}
We assume a finite number of users, with continuous valuation functions bounded both
above and below. From the assumption that $\overline{\Lambda}$ is not a
partition, we have that the limits exist with respect to bid price $p_i^j$, 
$$
    \limsup\limits_{j\to I} \overline{\Lambda} =  \bigcap_{j\ge 1}\bigcup_{k\ge j} \Lambda^k,
$$
is the primary seller $j$, and we have the market price $p_*^j$ from,
$$
    \liminf\limits_{i\to I} \overline{\lambda} = \bigcup_{i\ge 1}\bigcap{k\ge i}
\lambda^k,
$$
and the result follows from Lemma \ref{uservaluation}, Proposition
\ref{userunion} and Proposition \ref{incentive}.
(NEED TO SHOW THEY ARE EQUAL...)
%$\qed$\\
(USE BOREL-CANTELLI WITH I.I.D? FUTURE WORK?)

We show that our bidding strategy is
part of a Nash equilibrium. We first show the existence of a \emph{static} Nash
equilibrium, where the sellers reserve prices are fixed.
{
\lemma{(Static Nash Equilibrium)} 
Let $\Delta$ be defined as in Lemma (\ref{userunion}), and
let the duration of auction $j$ be $\tau \in (0,\infty)$, and fix the
sellers reserve prices at $t\in(0,\tau), \ \forall \ j\in\mcI$.
Using the rules of the data auction mechanism applied independently by each
user, where users are acting according to their respective strategies, the multi-auction game converges to an $\epsilon$-Nash equilibrium. 
}\\
\textbf{Proof:}
(CAN'T DO THIS, NOT THE SAME TYPE OF GAME?)
As $\theta_i'$ is continuous, as was shown in Lemma \ref{uservaluation}, and
$t=[t_i^j] \in \lambda^j \times \Lambda^j$ is continuous in $s$ on
$T_k=\Pi_{k\in\Lambda^j} T_k^j$. Now, $t$
represents a continuous mapping of $[0,\sum_{k\in\Lambda^j} D^k]_{i\in\lambda^j}$ onto itself,
and we may use Brouwer's fixed point theorem, as in \cite{semret},


As a result of user behavior, and subsequent strategies, we determine that the
data-exchange market behaves in a predictable way. However,
each auction may be played on the same or on a different scale in
valuation, time and quantity, and so the rate at which market fluctuations occur is
impossible to predict (NEED HELP!). 
Arrow's paradox is an impossibility theorem stating that when buyers have three
or more distinct alternatives (auctions), no deterministic ranking system can
convert the ranked preferences of users into a market-wide (complete
and transitive) ranking while also meeting a specified set of criteria:
unrestricted domain, non-dictatorship, Pareto efficiency and independence of
irrelevant alternatives. It follows that the case where
$\theta_i = \theta^j$ as in (\ref{buyerinversedemand}) and
(\ref{sellerinversedemand}) will only occur if each set $\Lambda \cup \lambda$
is disjoint.

Nonetheless, we claim that our mechanism is normative, that irrelevant
alternatives should not matter, it is practical, uses minimal information,
strategy, and provides the right incentives for the truthful revelation of individual preferences. 

The rules of the PSP
multi-auction drive market mutations that evolve and are regulated by the user
strategies.
(HERE)

(DEFINITION.. USE?)
In the General Symmetric Game, p is an evolutionarily stable mixed strategy if
there is a (small) positive number y such that when any other mixed strategy q
invades p at any level x < y, the fitness of an organism playing p is strictly
greater than the fitness of an organism playing q.
(EXPAND)
% DATA NASH EQ
{
\theorem{(Dynamic Nash Equilibrium)}
Using the rules of the data auction mechanism, the CMHK
\cite{zheng} converges to a $\epsilon$-Nash equilibrium. In the network auction
game with the data-PSP rules applied independently by each user according to their respective strategies, the secondary market converges to an $\epsilon$-Nash
equilibrium. 
}\\
\textbf{Proof:}


\subsection{Efficiency}

Formally, the
mechanism is efficient, if, at equilibrium, the allocation maximizes
$\sum_i\theta_i(a_i)$.
(NEED OWN WORDS)
The objective in designing the auction is that, at equilbrium, resources al-
ways go to those who value them most. Indeed, the PSP mechanism does
have that property. This can be loosely argued as follows: for each player,
the marginal valuation is never greater than the bid price of any opponent
who is getting a non-zero allocation. Thus, whenever there is a player j
whose marginal valuation is less than player i 's and j is getting a non-zero
allocation, i can take some away from j , paying a price less than i 's marginal
valuation, i.e. increasing u i , but also increasing the total value, since i 's
marginal value is greater. Thus at equilibrium, i.e. when no one can unilat-
erally increase P their utility, the total value is maximized.

\subsection{Convergence}

%\end{multicols}

%\bibliographystyle{acm}
%\bibliography{paper.bib}

%\iffalse
\begin{thebibliography}{9}

\bibitem{zheng}
L. Zheng, C. Joe-Wong, C. W. Tan, S. Ha and M. Chiangs, 
\textit{Secondary markets for mobile data: Feasibility and benefits of traded
data plans}, 2015 IEEE
Conference on Computer Communications (INFOCOM), Kowloon, 2015, pp. 1580-1588.

\bibitem{lazar}
A. A. Lazar and N. Semret, 
\textit{â€œDesign and Analysis of the Progressive Second Price Auction for Network
Bandwidth Sharing,â€} Telecommunication Systems, Special Issue on Network Economics, 2000.

\bibitem{semret} 
N. Semret, 
\textit{â€œMarket Mechanisms for Network Resource Sharing,â€
Ph.D. thesis}. 
Columbia University, 1999.

\bibitem{tuffin}
Bruno Tuffin,
\textit{Revisited Progressive Second Price Auction for Charging
Telecommunication Networks}.
[Research Report] RR-4176, INRIA, 2001.

\bibitem{qpsp}
Clare W. Qu, Peng Jia, and Peter E. Caines,
\textit{Analysis of a Class of Decentralized Decision Processes: Quantized
Progressive Second Price Auctions},
46th IEEE Conference on Decision and Control, New Orleans, LA, 2007, pp.
779-784.

\bibitem{cmhk}
\textit{China Mobile Hong Kong Company Limited}.
\url{https://www.hk.chinamobile.com/en/corporate_information/Data_N_VAS/DataTopup/index.html}.
2018

\bibitem{iia}
Andreu Mas-Colell, Michael Dennis Whinston, and Jerry R. Green, 
\textit{Microeconomic Theory}. Oxford University Press. 1995. p. 794.

\bibitem{matt}
Matthias Roggendorf and Fernando Beltr{\'a}n,
\textit{Simulation Model for the Dynamic Allocation of Network Resources in a
Competitive Wireless Scenario}. Mobility Aware Technologies and Applications, Springer Berlin Heidelberg. 2005.
pp. 54 - 64.

\bibitem{diffserve}
N. Semret, R. R. F. Liao, A. T. Campbell and A. A. Lazar, 
\textit{Pricing, provisioning and peering: dynamic markets for differentiated Internet services and
implications for network interconnections}, in IEEE Journal on Selected Areas in
Communications, vol. 18, no. 12, pp. 2499-2513, Dec. 2000.

\bibitem{maille}
Patrick MaillÃ©.
\textit{Market Clearing Price and Equilibria of the Progressive Second Price
Mechanism},
RAIRO - Operations Research, EDP Sciences, 2007, 41 (4), pp.465-478.

\bibitem{att}
\textit{AT\&T Mobile Share Flex Plans}
\url{https://www.att.com/plans/wireless/mobile-share-flex.html}
2018

\bibitem{cabill}
\textit{Communications: broadband Internet access service}, S.B. 822. Reg. Sess.
2017-2018. (2018).

\bibitem{fedbill}
\textit{No Rate Regulation of Broadband Internet Access Act}, H.R. 2666, 114th
Cong. (2016).

\bibitem{shapley}
Dov Monderer and Loyd Shapley. 
\textit{Potential Games}, Games and Economic Behavior. 14: 124â€“143. (1996).

\bibitem{felix}
Felix Brandt and Tuomas Sandholm.
\textit{On the Existence of Unconditionally Privacy-Preserving Auction
Protocols}, ACM Trans. Inf. Sys. Secur. 11, 2, Article 10 (May 2008).

\end{thebibliography}
%\fi


\end{document}

